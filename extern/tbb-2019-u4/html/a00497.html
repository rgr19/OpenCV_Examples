<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Intel(R) Threading Building Blocks Doxygen Documentation: tbb::internal::micro_queue Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Intel(R) Threading Building Blocks Doxygen Documentation
   &#160;<span id="projectnumber">version 4.2.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a00497.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="a03454.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">tbb::internal::micro_queue Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A queue using simple locking.  
 <a href="a00497.html#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for tbb::internal::micro_queue:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="a03455.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:afa7239963be1c09c06dcbd0bfdfa622a"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="a00560.html">concurrent_queue_base::page</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00497.html#afa7239963be1c09c06dcbd0bfdfa622a">page</a></td></tr>
<tr class="separator:afa7239963be1c09c06dcbd0bfdfa622a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7fe11e7da2dc9af4a9e37e208c1d0308"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00497.html#a7fe11e7da2dc9af4a9e37e208c1d0308">push</a> (const <a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a> *item, <a class="el" href="a01133.html#a7c22b9cabfe84a547f0ff26a1aa3e4a4">ticket</a> k, <a class="el" href="a01133.html#adb5cbd44651674e0431c2a18b19bd1fa">concurrent_queue_base</a> &amp;base, <a class="el" href="a00149.html#aed9766c09c176c33e8386327b3f3698b">concurrent_queue_base::copy_specifics</a> op_type)</td></tr>
<tr class="separator:a7fe11e7da2dc9af4a9e37e208c1d0308"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf8b2f9f05a9152a8c53ec6f9551d0d0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00497.html#abf8b2f9f05a9152a8c53ec6f9551d0d0">abort_push</a> (<a class="el" href="a01133.html#a7c22b9cabfe84a547f0ff26a1aa3e4a4">ticket</a> k, <a class="el" href="a01133.html#adb5cbd44651674e0431c2a18b19bd1fa">concurrent_queue_base</a> &amp;base)</td></tr>
<tr class="separator:abf8b2f9f05a9152a8c53ec6f9551d0d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf53d0cdfd439273c8d3d52b860abe3f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00497.html#acf53d0cdfd439273c8d3d52b860abe3f">pop</a> (<a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a> *dst, <a class="el" href="a01133.html#a7c22b9cabfe84a547f0ff26a1aa3e4a4">ticket</a> k, <a class="el" href="a01133.html#adb5cbd44651674e0431c2a18b19bd1fa">concurrent_queue_base</a> &amp;base)</td></tr>
<tr class="separator:acf53d0cdfd439273c8d3d52b860abe3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cce1248bacd9b29b296868bdd6b72dc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00497.html">micro_queue</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00497.html#a7cce1248bacd9b29b296868bdd6b72dc">assign</a> (const <a class="el" href="a00497.html">micro_queue</a> &amp;src, <a class="el" href="a01133.html#adb5cbd44651674e0431c2a18b19bd1fa">concurrent_queue_base</a> &amp;base, <a class="el" href="a00149.html#aed9766c09c176c33e8386327b3f3698b">concurrent_queue_base::copy_specifics</a> op_type)</td></tr>
<tr class="separator:a7cce1248bacd9b29b296868bdd6b72dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac452eec7729e4ea11f227ce2f8793179"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00497.html#afa7239963be1c09c06dcbd0bfdfa622a">page</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00497.html#ac452eec7729e4ea11f227ce2f8793179">make_copy</a> (<a class="el" href="a01133.html#adb5cbd44651674e0431c2a18b19bd1fa">concurrent_queue_base</a> &amp;base, const <a class="el" href="a00497.html#afa7239963be1c09c06dcbd0bfdfa622a">page</a> *src_page, size_t begin_in_page, size_t end_in_page, <a class="el" href="a01133.html#a7c22b9cabfe84a547f0ff26a1aa3e4a4">ticket</a> &amp;g_index, <a class="el" href="a00149.html#aed9766c09c176c33e8386327b3f3698b">concurrent_queue_base::copy_specifics</a> op_type)</td></tr>
<tr class="separator:ac452eec7729e4ea11f227ce2f8793179"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f97a68520f2c6a7cf67d03c476ca4ef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00497.html#a6f97a68520f2c6a7cf67d03c476ca4ef">make_invalid</a> (<a class="el" href="a01133.html#a7c22b9cabfe84a547f0ff26a1aa3e4a4">ticket</a> k)</td></tr>
<tr class="separator:a6f97a68520f2c6a7cf67d03c476ca4ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ab90a13d57abef607840c1cb8a65e1415"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00079.html">atomic</a>&lt; <a class="el" href="a00497.html#afa7239963be1c09c06dcbd0bfdfa622a">page</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00497.html#ab90a13d57abef607840c1cb8a65e1415">head_page</a></td></tr>
<tr class="separator:ab90a13d57abef607840c1cb8a65e1415"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfbb52dc64a390a9ea686b82bcdf2d87"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00079.html">atomic</a>&lt; <a class="el" href="a01133.html#a7c22b9cabfe84a547f0ff26a1aa3e4a4">ticket</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00497.html#abfbb52dc64a390a9ea686b82bcdf2d87">head_counter</a></td></tr>
<tr class="separator:abfbb52dc64a390a9ea686b82bcdf2d87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00944c7a1380b79e9d9e0e6ddd37c519"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00079.html">atomic</a>&lt; <a class="el" href="a00497.html#afa7239963be1c09c06dcbd0bfdfa622a">page</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00497.html#a00944c7a1380b79e9d9e0e6ddd37c519">tail_page</a></td></tr>
<tr class="separator:a00944c7a1380b79e9d9e0e6ddd37c519"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9d77751ce020de86b4b39ef70afe96c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00079.html">atomic</a>&lt; <a class="el" href="a01133.html#a7c22b9cabfe84a547f0ff26a1aa3e4a4">ticket</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00497.html#af9d77751ce020de86b4b39ef70afe96c">tail_counter</a></td></tr>
<tr class="separator:af9d77751ce020de86b4b39ef70afe96c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad18d15543690c01325113fdd9585c14e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00721.html">spin_mutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00497.html#ad18d15543690c01325113fdd9585c14e">page_mutex</a></td></tr>
<tr class="separator:ad18d15543690c01325113fdd9585c14e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:ab8fc76921acfa4faa75fe3af5d54cb08"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00497.html#ab8fc76921acfa4faa75fe3af5d54cb08">micro_queue_pop_finalizer</a></td></tr>
<tr class="separator:ab8fc76921acfa4faa75fe3af5d54cb08"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A queue using simple locking. </p>
<p>For efficiency, this class has no constructor. The caller is expected to zero-initialize it. </p>

<p>Definition at line <a class="el" href="a00981_source.html#l00051">51</a> of file <a class="el" href="a00981_source.html">concurrent_queue.cpp</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="afa7239963be1c09c06dcbd0bfdfa622a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="a00560.html">concurrent_queue_base::page</a> <a class="el" href="a00497.html#afa7239963be1c09c06dcbd0bfdfa622a">tbb::internal::micro_queue::page</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00981_source.html#l00052">52</a> of file <a class="el" href="a00981_source.html">concurrent_queue.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="abf8b2f9f05a9152a8c53ec6f9551d0d0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a> tbb::internal::micro_queue::abort_push </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a01133.html#a7c22b9cabfe84a547f0ff26a1aa3e4a4">ticket</a>&#160;</td>
          <td class="paramname"><em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a01133.html#adb5cbd44651674e0431c2a18b19bd1fa">concurrent_queue_base</a> &amp;&#160;</td>
          <td class="paramname"><em>base</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00981_source.html#l00230">230</a> of file <a class="el" href="a00981_source.html">concurrent_queue.cpp</a>.</p>

<p>References <a class="el" href="a00149.html#aed9766c09c176c33e8386327b3f3698bacd185c79ef6c06277eb6198b6263e7ed">tbb::internal::concurrent_queue_base_v3::copy</a>, and <a class="el" href="a00497.html#a7fe11e7da2dc9af4a9e37e208c1d0308">push()</a>.</p>

<p>Referenced by <a class="el" href="a00149.html#a6b68fa0da8231513c31217b4090703ba">tbb::internal::concurrent_queue_base_v3::internal_insert_item()</a>.</p>
<div class="fragment"><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                                                                    {</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    <a class="code" href="a00497.html#a7fe11e7da2dc9af4a9e37e208c1d0308">push</a>(NULL, k, base, <a class="code" href="a00149.html#aed9766c09c176c33e8386327b3f3698bacd185c79ef6c06277eb6198b6263e7ed">concurrent_queue_base::copy</a>);</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;}</div><div class="ttc" id="a00497_html_a7fe11e7da2dc9af4a9e37e208c1d0308"><div class="ttname"><a href="a00497.html#a7fe11e7da2dc9af4a9e37e208c1d0308">tbb::internal::micro_queue::push</a></div><div class="ttdeci">void push(const void *item, ticket k, concurrent_queue_base &amp;base, concurrent_queue_base::copy_specifics op_type)</div><div class="ttdef"><b>Definition:</b> <a href="a00981_source.html#l00165">concurrent_queue.cpp:165</a></div></div>
<div class="ttc" id="a00149_html_aed9766c09c176c33e8386327b3f3698bacd185c79ef6c06277eb6198b6263e7ed"><div class="ttname"><a href="a00149.html#aed9766c09c176c33e8386327b3f3698bacd185c79ef6c06277eb6198b6263e7ed">tbb::internal::concurrent_queue_base_v3::copy</a></div><div class="ttdef"><b>Definition:</b> <a href="a00938_source.html#l00851">_concurrent_queue_impl.h:851</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="a00497_abf8b2f9f05a9152a8c53ec6f9551d0d0_cgraph.svg" width="100%" height="584"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="a00497_abf8b2f9f05a9152a8c53ec6f9551d0d0_icgraph.svg" width="366" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7cce1248bacd9b29b296868bdd6b72dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00497.html">micro_queue</a> &amp; tbb::internal::micro_queue::assign </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00497.html">micro_queue</a> &amp;&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a01133.html#adb5cbd44651674e0431c2a18b19bd1fa">concurrent_queue_base</a> &amp;&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00149.html#aed9766c09c176c33e8386327b3f3698b">concurrent_queue_base::copy_specifics</a>&#160;</td>
          <td class="paramname"><em>op_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00981_source.html#l00257">257</a> of file <a class="el" href="a00981_source.html">concurrent_queue.cpp</a>.</p>

<p>References <a class="el" href="a01098.html#a7b58d28a34a1717e2ddb591f00658b10">__TBB_ASSERT</a>, <a class="el" href="a01098.html#a1e83dce98dc82007213f4109f8903cb8">__TBB_CATCH</a>, <a class="el" href="a01098.html#affef623b71eccade29a6276f789315b8">__TBB_RETHROW</a>, <a class="el" href="a01098.html#a6df2b2237c9996f178d7b4ac3691c443">__TBB_TRY</a>, <a class="el" href="a00497.html#abfbb52dc64a390a9ea686b82bcdf2d87">head_counter</a>, <a class="el" href="a00497.html#ab90a13d57abef607840c1cb8a65e1415">head_page</a>, <a class="el" href="a00149.html#aee8921b2410c92480d095baf9639a9d0">tbb::internal::concurrent_queue_base_v3::items_per_page</a>, <a class="el" href="a00497.html#ac452eec7729e4ea11f227ce2f8793179">make_copy()</a>, <a class="el" href="a00497.html#a6f97a68520f2c6a7cf67d03c476ca4ef">make_invalid()</a>, <a class="el" href="a01133.html#ae4046a97e0542e3bb86bf9c54b0861e2">tbb::internal::modulo_power_of_two()</a>, <a class="el" href="a00159.html#ac5a5e9a7bb3d402500f19b8e3a76b611">tbb::internal::concurrent_queue_rep::n_queue</a>, <a class="el" href="a00560.html#af5bce280f85d9baa82c15210fa69e1ca">tbb::internal::concurrent_queue_base_v3::page::next</a>, <a class="el" href="a00497.html#af9d77751ce020de86b4b39ef70afe96c">tail_counter</a>, and <a class="el" href="a00497.html#a00944c7a1380b79e9d9e0e6ddd37c519">tail_page</a>.</p>
<div class="fragment"><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;{</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <a class="code" href="a00497.html#abfbb52dc64a390a9ea686b82bcdf2d87">head_counter</a> = src.head_counter;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <a class="code" href="a00497.html#af9d77751ce020de86b4b39ef70afe96c">tail_counter</a> = src.tail_counter;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keyword">const</span> <a class="code" href="a00497.html#afa7239963be1c09c06dcbd0bfdfa622a">page</a>* srcp = src.head_page;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="keywordflow">if</span>( srcp ) {</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        <a class="code" href="a01133.html#a7c22b9cabfe84a547f0ff26a1aa3e4a4">ticket</a> g_index = <a class="code" href="a00497.html#abfbb52dc64a390a9ea686b82bcdf2d87">head_counter</a>;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <a class="code" href="a01098.html#a6df2b2237c9996f178d7b4ac3691c443">__TBB_TRY</a> {</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            <span class="keywordtype">size_t</span> n_items  = (<a class="code" href="a00497.html#af9d77751ce020de86b4b39ef70afe96c">tail_counter</a>-<a class="code" href="a00497.html#abfbb52dc64a390a9ea686b82bcdf2d87">head_counter</a>)/<a class="code" href="a00159.html#ac5a5e9a7bb3d402500f19b8e3a76b611">concurrent_queue_rep::n_queue</a>;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            <span class="keywordtype">size_t</span> index = <a class="code" href="a01133.html#ae4046a97e0542e3bb86bf9c54b0861e2">modulo_power_of_two</a>( <a class="code" href="a00497.html#abfbb52dc64a390a9ea686b82bcdf2d87">head_counter</a>/<a class="code" href="a00159.html#ac5a5e9a7bb3d402500f19b8e3a76b611">concurrent_queue_rep::n_queue</a>, base.items_per_page );</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;            <span class="keywordtype">size_t</span> end_in_first_page = (index+n_items&lt;base.items_per_page)?(index+n_items):base.items_per_page;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;            <a class="code" href="a00497.html#ab90a13d57abef607840c1cb8a65e1415">head_page</a> = <a class="code" href="a00497.html#ac452eec7729e4ea11f227ce2f8793179">make_copy</a>( base, srcp, index, end_in_first_page, g_index, op_type );</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            <a class="code" href="a00497.html#afa7239963be1c09c06dcbd0bfdfa622a">page</a>* cur_page = <a class="code" href="a00497.html#ab90a13d57abef607840c1cb8a65e1415">head_page</a>;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            <span class="keywordflow">if</span>( srcp != src.tail_page ) {</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                <span class="keywordflow">for</span>( srcp = srcp-&gt;next; srcp!=src.tail_page; srcp=srcp-&gt;next ) {</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                    cur_page-&gt;next = <a class="code" href="a00497.html#ac452eec7729e4ea11f227ce2f8793179">make_copy</a>( base, srcp, 0, base.items_per_page, g_index, op_type );</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;                    cur_page = cur_page-&gt;next;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                }</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                <a class="code" href="a01098.html#a7b58d28a34a1717e2ddb591f00658b10">__TBB_ASSERT</a>( srcp==src.tail_page, NULL );</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                <span class="keywordtype">size_t</span> last_index = <a class="code" href="a01133.html#ae4046a97e0542e3bb86bf9c54b0861e2">modulo_power_of_two</a>( <a class="code" href="a00497.html#af9d77751ce020de86b4b39ef70afe96c">tail_counter</a>/<a class="code" href="a00159.html#ac5a5e9a7bb3d402500f19b8e3a76b611">concurrent_queue_rep::n_queue</a>, base.items_per_page );</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                <span class="keywordflow">if</span>( last_index==0 ) last_index = base.items_per_page;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                cur_page-&gt;next = <a class="code" href="a00497.html#ac452eec7729e4ea11f227ce2f8793179">make_copy</a>( base, srcp, 0, last_index, g_index, op_type );</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                cur_page = cur_page-&gt;next;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            }</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            <a class="code" href="a00497.html#a00944c7a1380b79e9d9e0e6ddd37c519">tail_page</a> = cur_page;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        } <a class="code" href="a01098.html#a1e83dce98dc82007213f4109f8903cb8">__TBB_CATCH</a>(...) {</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            <a class="code" href="a00497.html#a6f97a68520f2c6a7cf67d03c476ca4ef">make_invalid</a>( g_index );</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            <a class="code" href="a01098.html#affef623b71eccade29a6276f789315b8">__TBB_RETHROW</a>();</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        }</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <a class="code" href="a00497.html#ab90a13d57abef607840c1cb8a65e1415">head_page</a> = <a class="code" href="a00497.html#a00944c7a1380b79e9d9e0e6ddd37c519">tail_page</a> = NULL;</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    }</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;}</div><div class="ttc" id="a01098_html_a1e83dce98dc82007213f4109f8903cb8"><div class="ttname"><a href="a01098.html#a1e83dce98dc82007213f4109f8903cb8">__TBB_CATCH</a></div><div class="ttdeci">#define __TBB_CATCH(e)</div><div class="ttdef"><b>Definition:</b> <a href="a01098_source.html#l00288">tbb_stddef.h:288</a></div></div>
<div class="ttc" id="a00497_html_a00944c7a1380b79e9d9e0e6ddd37c519"><div class="ttname"><a href="a00497.html#a00944c7a1380b79e9d9e0e6ddd37c519">tbb::internal::micro_queue::tail_page</a></div><div class="ttdeci">atomic&lt; page * &gt; tail_page</div><div class="ttdef"><b>Definition:</b> <a href="a00981_source.html#l00059">concurrent_queue.cpp:59</a></div></div>
<div class="ttc" id="a00497_html_abfbb52dc64a390a9ea686b82bcdf2d87"><div class="ttname"><a href="a00497.html#abfbb52dc64a390a9ea686b82bcdf2d87">tbb::internal::micro_queue::head_counter</a></div><div class="ttdeci">atomic&lt; ticket &gt; head_counter</div><div class="ttdef"><b>Definition:</b> <a href="a00981_source.html#l00057">concurrent_queue.cpp:57</a></div></div>
<div class="ttc" id="a01133_html_a7c22b9cabfe84a547f0ff26a1aa3e4a4"><div class="ttname"><a href="a01133.html#a7c22b9cabfe84a547f0ff26a1aa3e4a4">tbb::internal::ticket</a></div><div class="ttdeci">size_t ticket</div><div class="ttdef"><b>Definition:</b> <a href="a00981_source.html#l00046">concurrent_queue.cpp:46</a></div></div>
<div class="ttc" id="a00497_html_af9d77751ce020de86b4b39ef70afe96c"><div class="ttname"><a href="a00497.html#af9d77751ce020de86b4b39ef70afe96c">tbb::internal::micro_queue::tail_counter</a></div><div class="ttdeci">atomic&lt; ticket &gt; tail_counter</div><div class="ttdef"><b>Definition:</b> <a href="a00981_source.html#l00060">concurrent_queue.cpp:60</a></div></div>
<div class="ttc" id="a00497_html_a6f97a68520f2c6a7cf67d03c476ca4ef"><div class="ttname"><a href="a00497.html#a6f97a68520f2c6a7cf67d03c476ca4ef">tbb::internal::micro_queue::make_invalid</a></div><div class="ttdeci">void make_invalid(ticket k)</div><div class="ttdef"><b>Definition:</b> <a href="a00981_source.html#l00318">concurrent_queue.cpp:318</a></div></div>
<div class="ttc" id="a00159_html_ac5a5e9a7bb3d402500f19b8e3a76b611"><div class="ttname"><a href="a00159.html#ac5a5e9a7bb3d402500f19b8e3a76b611">tbb::internal::concurrent_queue_rep::n_queue</a></div><div class="ttdeci">static const size_t n_queue</div><div class="ttdoc">Must be power of 2. </div><div class="ttdef"><b>Definition:</b> <a href="a00981_source.html#l00126">concurrent_queue.cpp:126</a></div></div>
<div class="ttc" id="a01098_html_a6df2b2237c9996f178d7b4ac3691c443"><div class="ttname"><a href="a01098.html#a6df2b2237c9996f178d7b4ac3691c443">__TBB_TRY</a></div><div class="ttdeci">#define __TBB_TRY</div><div class="ttdef"><b>Definition:</b> <a href="a01098_source.html#l00287">tbb_stddef.h:287</a></div></div>
<div class="ttc" id="a00497_html_afa7239963be1c09c06dcbd0bfdfa622a"><div class="ttname"><a href="a00497.html#afa7239963be1c09c06dcbd0bfdfa622a">tbb::internal::micro_queue::page</a></div><div class="ttdeci">concurrent_queue_base::page page</div><div class="ttdef"><b>Definition:</b> <a href="a00981_source.html#l00052">concurrent_queue.cpp:52</a></div></div>
<div class="ttc" id="a00497_html_ac452eec7729e4ea11f227ce2f8793179"><div class="ttname"><a href="a00497.html#ac452eec7729e4ea11f227ce2f8793179">tbb::internal::micro_queue::make_copy</a></div><div class="ttdeci">page * make_copy(concurrent_queue_base &amp;base, const page *src_page, size_t begin_in_page, size_t end_in_page, ticket &amp;g_index, concurrent_queue_base::copy_specifics op_type)</div><div class="ttdef"><b>Definition:</b> <a href="a00981_source.html#l00299">concurrent_queue.cpp:299</a></div></div>
<div class="ttc" id="a01133_html_ae4046a97e0542e3bb86bf9c54b0861e2"><div class="ttname"><a href="a01133.html#ae4046a97e0542e3bb86bf9c54b0861e2">tbb::internal::modulo_power_of_two</a></div><div class="ttdeci">argument_integer_type modulo_power_of_two(argument_integer_type arg, divisor_integer_type divisor)</div><div class="ttdoc">A function to compute arg modulo divisor where divisor is a power of 2. </div><div class="ttdef"><b>Definition:</b> <a href="a01098_source.html#l00365">tbb_stddef.h:365</a></div></div>
<div class="ttc" id="a01098_html_a7b58d28a34a1717e2ddb591f00658b10"><div class="ttname"><a href="a01098.html#a7b58d28a34a1717e2ddb591f00658b10">__TBB_ASSERT</a></div><div class="ttdeci">#define __TBB_ASSERT(predicate, comment)</div><div class="ttdoc">No-op version of __TBB_ASSERT. </div><div class="ttdef"><b>Definition:</b> <a href="a01098_source.html#l00169">tbb_stddef.h:169</a></div></div>
<div class="ttc" id="a01098_html_affef623b71eccade29a6276f789315b8"><div class="ttname"><a href="a01098.html#affef623b71eccade29a6276f789315b8">__TBB_RETHROW</a></div><div class="ttdeci">#define __TBB_RETHROW()</div><div class="ttdef"><b>Definition:</b> <a href="a01098_source.html#l00290">tbb_stddef.h:290</a></div></div>
<div class="ttc" id="a00497_html_ab90a13d57abef607840c1cb8a65e1415"><div class="ttname"><a href="a00497.html#ab90a13d57abef607840c1cb8a65e1415">tbb::internal::micro_queue::head_page</a></div><div class="ttdeci">atomic&lt; page * &gt; head_page</div><div class="ttdef"><b>Definition:</b> <a href="a00981_source.html#l00056">concurrent_queue.cpp:56</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="a00497_a7cce1248bacd9b29b296868bdd6b72dc_cgraph.svg" width="608" height="215"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac452eec7729e4ea11f227ce2f8793179"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00560.html">concurrent_queue_base::page</a> * tbb::internal::micro_queue::make_copy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a01133.html#adb5cbd44651674e0431c2a18b19bd1fa">concurrent_queue_base</a> &amp;&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00497.html#afa7239963be1c09c06dcbd0bfdfa622a">page</a> *&#160;</td>
          <td class="paramname"><em>src_page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>begin_in_page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>end_in_page</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a01133.html#a7c22b9cabfe84a547f0ff26a1aa3e4a4">ticket</a> &amp;&#160;</td>
          <td class="paramname"><em>g_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00149.html#aed9766c09c176c33e8386327b3f3698b">concurrent_queue_base::copy_specifics</a>&#160;</td>
          <td class="paramname"><em>op_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00981_source.html#l00299">299</a> of file <a class="el" href="a00981_source.html">concurrent_queue.cpp</a>.</p>

<p>References <a class="el" href="a01098.html#a7b58d28a34a1717e2ddb591f00658b10">__TBB_ASSERT</a>, <a class="el" href="a00149.html#a2df8f1ca6bc7635e07aa2f84b0d5296f">tbb::internal::concurrent_queue_base_v3::allocate_page()</a>, <a class="el" href="a00149.html#aed9766c09c176c33e8386327b3f3698bacd185c79ef6c06277eb6198b6263e7ed">tbb::internal::concurrent_queue_base_v3::copy</a>, <a class="el" href="a00149.html#a3a7950445a7c25528666d0bb3ab9fb4c">tbb::internal::concurrent_queue_base_v3::copy_page_item()</a>, <a class="el" href="a00560.html#a84252c824b96322689bb7942a452dc5f">tbb::internal::concurrent_queue_base_v3::page::mask</a>, <a class="el" href="a00149.html#aed9766c09c176c33e8386327b3f3698ba86ac8b85ba9eb37cd08c238b155bc90f">tbb::internal::concurrent_queue_base_v3::move</a>, and <a class="el" href="a00560.html#af5bce280f85d9baa82c15210fa69e1ca">tbb::internal::concurrent_queue_base_v3::page::next</a>.</p>

<p>Referenced by <a class="el" href="a00497.html#a7cce1248bacd9b29b296868bdd6b72dc">assign()</a>.</p>
<div class="fragment"><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;{</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <a class="code" href="a00497.html#afa7239963be1c09c06dcbd0bfdfa622a">page</a>* new_page = base.allocate_page();</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    new_page-&gt;<a class="code" href="a00560.html#af5bce280f85d9baa82c15210fa69e1ca">next</a> = NULL;</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    new_page-&gt;<a class="code" href="a00560.html#a84252c824b96322689bb7942a452dc5f">mask</a> = src_page-&gt;mask;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordflow">for</span>( ; begin_in_page!=end_in_page; ++begin_in_page, ++g_index )</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        <span class="keywordflow">if</span>( new_page-&gt;mask &amp; uintptr_t(1)&lt;&lt;begin_in_page ) {</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="a00149.html#aed9766c09c176c33e8386327b3f3698bacd185c79ef6c06277eb6198b6263e7ed">concurrent_queue_base::copy</a> == op_type ) {</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                base.copy_page_item( *new_page, begin_in_page, *src_page, begin_in_page );</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;                <a class="code" href="a01098.html#a7b58d28a34a1717e2ddb591f00658b10">__TBB_ASSERT</a>( <a class="code" href="a00149.html#aed9766c09c176c33e8386327b3f3698ba86ac8b85ba9eb37cd08c238b155bc90f">concurrent_queue_base::move</a> == op_type, NULL );</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                <span class="keyword">static_cast&lt;</span>concurrent_queue_base_v8&amp;<span class="keyword">&gt;</span>(base).move_page_item( *new_page, begin_in_page, *src_page, begin_in_page );</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            }</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        }</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordflow">return</span> new_page;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;}</div><div class="ttc" id="a00149_html_aed9766c09c176c33e8386327b3f3698ba86ac8b85ba9eb37cd08c238b155bc90f"><div class="ttname"><a href="a00149.html#aed9766c09c176c33e8386327b3f3698ba86ac8b85ba9eb37cd08c238b155bc90f">tbb::internal::concurrent_queue_base_v3::move</a></div><div class="ttdef"><b>Definition:</b> <a href="a00938_source.html#l00851">_concurrent_queue_impl.h:851</a></div></div>
<div class="ttc" id="a00497_html_afa7239963be1c09c06dcbd0bfdfa622a"><div class="ttname"><a href="a00497.html#afa7239963be1c09c06dcbd0bfdfa622a">tbb::internal::micro_queue::page</a></div><div class="ttdeci">concurrent_queue_base::page page</div><div class="ttdef"><b>Definition:</b> <a href="a00981_source.html#l00052">concurrent_queue.cpp:52</a></div></div>
<div class="ttc" id="a00149_html_aed9766c09c176c33e8386327b3f3698bacd185c79ef6c06277eb6198b6263e7ed"><div class="ttname"><a href="a00149.html#aed9766c09c176c33e8386327b3f3698bacd185c79ef6c06277eb6198b6263e7ed">tbb::internal::concurrent_queue_base_v3::copy</a></div><div class="ttdef"><b>Definition:</b> <a href="a00938_source.html#l00851">_concurrent_queue_impl.h:851</a></div></div>
<div class="ttc" id="a01098_html_a7b58d28a34a1717e2ddb591f00658b10"><div class="ttname"><a href="a01098.html#a7b58d28a34a1717e2ddb591f00658b10">__TBB_ASSERT</a></div><div class="ttdeci">#define __TBB_ASSERT(predicate, comment)</div><div class="ttdoc">No-op version of __TBB_ASSERT. </div><div class="ttdef"><b>Definition:</b> <a href="a01098_source.html#l00169">tbb_stddef.h:169</a></div></div>
<div class="ttc" id="a00560_html_a84252c824b96322689bb7942a452dc5f"><div class="ttname"><a href="a00560.html#a84252c824b96322689bb7942a452dc5f">tbb::internal::concurrent_queue_base_v3::page::mask</a></div><div class="ttdeci">uintptr_t mask</div><div class="ttdef"><b>Definition:</b> <a href="a00938_source.html#l00839">_concurrent_queue_impl.h:839</a></div></div>
<div class="ttc" id="a00560_html_af5bce280f85d9baa82c15210fa69e1ca"><div class="ttname"><a href="a00560.html#af5bce280f85d9baa82c15210fa69e1ca">tbb::internal::concurrent_queue_base_v3::page::next</a></div><div class="ttdeci">page * next</div><div class="ttdef"><b>Definition:</b> <a href="a00938_source.html#l00838">_concurrent_queue_impl.h:838</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="a00497_ac452eec7729e4ea11f227ce2f8793179_cgraph.svg" width="420" height="118"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="a00497_ac452eec7729e4ea11f227ce2f8793179_icgraph.svg" width="328" height="52"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6f97a68520f2c6a7cf67d03c476ca4ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a> tbb::internal::micro_queue::make_invalid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a01133.html#a7c22b9cabfe84a547f0ff26a1aa3e4a4">ticket</a>&#160;</td>
          <td class="paramname"><em>k</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00981_source.html#l00318">318</a> of file <a class="el" href="a00981_source.html">concurrent_queue.cpp</a>.</p>

<p>References <a class="el" href="a00497.html#ab90a13d57abef607840c1cb8a65e1415">head_page</a>, <a class="el" href="a01016.html#a46e8be2e3aadb2f6ee62e762a36b9243">lock</a>, <a class="el" href="a00159.html#ac5a5e9a7bb3d402500f19b8e3a76b611">tbb::internal::concurrent_queue_rep::n_queue</a>, <a class="el" href="a00497.html#ad18d15543690c01325113fdd9585c14e">page_mutex</a>, <a class="el" href="a01133.html#a462ebd57cc317fb33ef6542d470b4dbd">tbb::internal::static_invalid_page</a>, and <a class="el" href="a00497.html#a00944c7a1380b79e9d9e0e6ddd37c519">tail_page</a>.</p>

<p>Referenced by <a class="el" href="a00497.html#a7cce1248bacd9b29b296868bdd6b72dc">assign()</a>, and <a class="el" href="a00497.html#a7fe11e7da2dc9af4a9e37e208c1d0308">push()</a>.</p>
<div class="fragment"><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;{</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="keyword">static</span> concurrent_queue_base::page dummy = {<span class="keyword">static_cast&lt;</span><a class="code" href="a00497.html#afa7239963be1c09c06dcbd0bfdfa622a">page</a>*<span class="keyword">&gt;</span>((<span class="keywordtype">void</span>*)1), 0};</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="comment">// mark it so that no more pushes are allowed.</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <a class="code" href="a01133.html#a462ebd57cc317fb33ef6542d470b4dbd">static_invalid_page</a> = &amp;dummy;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    {</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <a class="code" href="a00721.html#afcf922650b2fd9d76b7b939d8511bbd8">spin_mutex::scoped_lock</a> <a class="code" href="a01016.html#a46e8be2e3aadb2f6ee62e762a36b9243">lock</a>( <a class="code" href="a00497.html#ad18d15543690c01325113fdd9585c14e">page_mutex</a> );</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        <a class="code" href="a00497.html#af9d77751ce020de86b4b39ef70afe96c">tail_counter</a> = k+<a class="code" href="a00159.html#ac5a5e9a7bb3d402500f19b8e3a76b611">concurrent_queue_rep::n_queue</a>+1;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="a00497.html#afa7239963be1c09c06dcbd0bfdfa622a">page</a>* q = <a class="code" href="a00497.html#a00944c7a1380b79e9d9e0e6ddd37c519">tail_page</a> )</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            q-&gt;next = <span class="keyword">static_cast&lt;</span><a class="code" href="a00497.html#afa7239963be1c09c06dcbd0bfdfa622a">page</a>*<span class="keyword">&gt;</span>(<a class="code" href="a01133.html#a462ebd57cc317fb33ef6542d470b4dbd">static_invalid_page</a>);</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            <a class="code" href="a00497.html#ab90a13d57abef607840c1cb8a65e1415">head_page</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="a00497.html#afa7239963be1c09c06dcbd0bfdfa622a">page</a>*<span class="keyword">&gt;</span>(<a class="code" href="a01133.html#a462ebd57cc317fb33ef6542d470b4dbd">static_invalid_page</a>);</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <a class="code" href="a00497.html#a00944c7a1380b79e9d9e0e6ddd37c519">tail_page</a> = <span class="keyword">static_cast&lt;</span><a class="code" href="a00497.html#afa7239963be1c09c06dcbd0bfdfa622a">page</a>*<span class="keyword">&gt;</span>(<a class="code" href="a01133.html#a462ebd57cc317fb33ef6542d470b4dbd">static_invalid_page</a>);</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    }</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;}</div><div class="ttc" id="a01016_html_a46e8be2e3aadb2f6ee62e762a36b9243"><div class="ttname"><a href="a01016.html#a46e8be2e3aadb2f6ee62e762a36b9243">lock</a></div><div class="ttdeci">void const char const char int ITT_FORMAT __itt_group_sync x void const char ITT_FORMAT __itt_group_sync s void ITT_FORMAT __itt_group_sync p void ITT_FORMAT p void ITT_FORMAT p no args __itt_suppress_mode_t unsigned int void size_t ITT_FORMAT d void ITT_FORMAT p void ITT_FORMAT p __itt_model_site __itt_model_site_instance ITT_FORMAT p __itt_model_task __itt_model_task_instance ITT_FORMAT p void * lock</div><div class="ttdef"><b>Definition:</b> <a href="a01016_source.html#l00110">ittnotify_static.h:110</a></div></div>
<div class="ttc" id="a00497_html_a00944c7a1380b79e9d9e0e6ddd37c519"><div class="ttname"><a href="a00497.html#a00944c7a1380b79e9d9e0e6ddd37c519">tbb::internal::micro_queue::tail_page</a></div><div class="ttdeci">atomic&lt; page * &gt; tail_page</div><div class="ttdef"><b>Definition:</b> <a href="a00981_source.html#l00059">concurrent_queue.cpp:59</a></div></div>
<div class="ttc" id="a00497_html_af9d77751ce020de86b4b39ef70afe96c"><div class="ttname"><a href="a00497.html#af9d77751ce020de86b4b39ef70afe96c">tbb::internal::micro_queue::tail_counter</a></div><div class="ttdeci">atomic&lt; ticket &gt; tail_counter</div><div class="ttdef"><b>Definition:</b> <a href="a00981_source.html#l00060">concurrent_queue.cpp:60</a></div></div>
<div class="ttc" id="a00159_html_ac5a5e9a7bb3d402500f19b8e3a76b611"><div class="ttname"><a href="a00159.html#ac5a5e9a7bb3d402500f19b8e3a76b611">tbb::internal::concurrent_queue_rep::n_queue</a></div><div class="ttdeci">static const size_t n_queue</div><div class="ttdoc">Must be power of 2. </div><div class="ttdef"><b>Definition:</b> <a href="a00981_source.html#l00126">concurrent_queue.cpp:126</a></div></div>
<div class="ttc" id="a01133_html_a462ebd57cc317fb33ef6542d470b4dbd"><div class="ttname"><a href="a01133.html#a462ebd57cc317fb33ef6542d470b4dbd">tbb::internal::static_invalid_page</a></div><div class="ttdeci">static void * static_invalid_page</div><div class="ttdef"><b>Definition:</b> <a href="a00981_source.html#l00160">concurrent_queue.cpp:160</a></div></div>
<div class="ttc" id="a00497_html_afa7239963be1c09c06dcbd0bfdfa622a"><div class="ttname"><a href="a00497.html#afa7239963be1c09c06dcbd0bfdfa622a">tbb::internal::micro_queue::page</a></div><div class="ttdeci">concurrent_queue_base::page page</div><div class="ttdef"><b>Definition:</b> <a href="a00981_source.html#l00052">concurrent_queue.cpp:52</a></div></div>
<div class="ttc" id="a00721_html_afcf922650b2fd9d76b7b939d8511bbd8"><div class="ttname"><a href="a00721.html#afcf922650b2fd9d76b7b939d8511bbd8">tbb::spin_mutex::scoped_lock</a></div><div class="ttdeci">friend class scoped_lock</div><div class="ttdef"><b>Definition:</b> <a href="a01068_source.html#l00180">spin_mutex.h:180</a></div></div>
<div class="ttc" id="a00497_html_ad18d15543690c01325113fdd9585c14e"><div class="ttname"><a href="a00497.html#ad18d15543690c01325113fdd9585c14e">tbb::internal::micro_queue::page_mutex</a></div><div class="ttdeci">spin_mutex page_mutex</div><div class="ttdef"><b>Definition:</b> <a href="a00981_source.html#l00062">concurrent_queue.cpp:62</a></div></div>
<div class="ttc" id="a00497_html_ab90a13d57abef607840c1cb8a65e1415"><div class="ttname"><a href="a00497.html#ab90a13d57abef607840c1cb8a65e1415">tbb::internal::micro_queue::head_page</a></div><div class="ttdeci">atomic&lt; page * &gt; head_page</div><div class="ttdef"><b>Definition:</b> <a href="a00981_source.html#l00056">concurrent_queue.cpp:56</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="a00497_a6f97a68520f2c6a7cf67d03c476ca4ef_icgraph.svg" width="100%" height="443"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="acf53d0cdfd439273c8d3d52b860abe3f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tbb::internal::micro_queue::pop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a> *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a01133.html#a7c22b9cabfe84a547f0ff26a1aa3e4a4">ticket</a>&#160;</td>
          <td class="paramname"><em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a01133.html#adb5cbd44651674e0431c2a18b19bd1fa">concurrent_queue_base</a> &amp;&#160;</td>
          <td class="paramname"><em>base</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00981_source.html#l00234">234</a> of file <a class="el" href="a00981_source.html">concurrent_queue.cpp</a>.</p>

<p>References <a class="el" href="a01098.html#a7b58d28a34a1717e2ddb591f00658b10">__TBB_ASSERT</a>, <a class="el" href="a00149.html#a3db6728b63f0332b4122ec700225dca2">tbb::internal::concurrent_queue_base_v3::assign_and_destroy_item()</a>, <a class="el" href="a00497.html#abfbb52dc64a390a9ea686b82bcdf2d87">head_counter</a>, <a class="el" href="a00497.html#ab90a13d57abef607840c1cb8a65e1415">head_page</a>, <a class="el" href="a00149.html#aee8921b2410c92480d095baf9639a9d0">tbb::internal::concurrent_queue_base_v3::items_per_page</a>, <a class="el" href="a01011.html#adf75d9635323cc786c012fe69ceef418">ITT_NOTIFY</a>, <a class="el" href="a00560.html#a84252c824b96322689bb7942a452dc5f">tbb::internal::concurrent_queue_base_v3::page::mask</a>, <a class="el" href="a01133.html#ae4046a97e0542e3bb86bf9c54b0861e2">tbb::internal::modulo_power_of_two()</a>, <a class="el" href="a00149.html#a4a88041d465f628be9bfa3c4e1fc9e77">tbb::internal::concurrent_queue_base_v3::my_rep</a>, <a class="el" href="a00159.html#ac6d1a308f4ab8138dafec71e5dbab230">tbb::internal::concurrent_queue_rep::n_invalid_entries</a>, <a class="el" href="a00159.html#ac5a5e9a7bb3d402500f19b8e3a76b611">tbb::internal::concurrent_queue_rep::n_queue</a>, <a class="el" href="a01016.html#ae01354a6a694c51fb79588444a08cbee">p</a>, <a class="el" href="a01133.html#a9006317b947d3f9f7a457e295e5b8330">tbb::internal::spin_wait_until_eq()</a>, <a class="el" href="a01133.html#af06e92f81977291b074b4de815acc31e">tbb::internal::spin_wait_while_eq()</a>, and <a class="el" href="a01016.html#ac5a347b47a5603a1f30f6fbf790724b7">sync_releasing</a>.</p>

<p>Referenced by <a class="el" href="a00149.html#a0d5fe3f37435ae1f0d0a5a573a550421">tbb::internal::concurrent_queue_base_v3::internal_pop()</a>, and <a class="el" href="a00149.html#a6b7ed855290275a38243a63091ce4fc7">tbb::internal::concurrent_queue_base_v3::internal_pop_if_present()</a>.</p>
<div class="fragment"><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                                                                        {</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    k &amp;= -<a class="code" href="a00159.html#ac5a5e9a7bb3d402500f19b8e3a76b611">concurrent_queue_rep::n_queue</a>;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <a class="code" href="a01133.html#a9006317b947d3f9f7a457e295e5b8330">spin_wait_until_eq</a>( <a class="code" href="a00497.html#abfbb52dc64a390a9ea686b82bcdf2d87">head_counter</a>, k );</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <a class="code" href="a01133.html#af06e92f81977291b074b4de815acc31e">spin_wait_while_eq</a>( <a class="code" href="a00497.html#af9d77751ce020de86b4b39ef70afe96c">tail_counter</a>, k );</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <a class="code" href="a00497.html#afa7239963be1c09c06dcbd0bfdfa622a">page</a> *<a class="code" href="a01016.html#ae01354a6a694c51fb79588444a08cbee">p</a> = <a class="code" href="a00497.html#ab90a13d57abef607840c1cb8a65e1415">head_page</a>;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <a class="code" href="a01098.html#a7b58d28a34a1717e2ddb591f00658b10">__TBB_ASSERT</a>( p, NULL );</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordtype">size_t</span> index = <a class="code" href="a01133.html#ae4046a97e0542e3bb86bf9c54b0861e2">modulo_power_of_two</a>( k/<a class="code" href="a00159.html#ac5a5e9a7bb3d402500f19b8e3a76b611">concurrent_queue_rep::n_queue</a>, base.items_per_page );</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keywordtype">bool</span> success = <span class="keyword">false</span>;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    {</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <a class="code" href="a00497.html#ab8fc76921acfa4faa75fe3af5d54cb08">micro_queue_pop_finalizer</a> finalizer( *<span class="keyword">this</span>, base, k+<a class="code" href="a00159.html#ac5a5e9a7bb3d402500f19b8e3a76b611">concurrent_queue_rep::n_queue</a>, index==base.items_per_page-1 ? p : NULL );</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;        <span class="keywordflow">if</span>( p-&gt;mask &amp; uintptr_t(1)&lt;&lt;index ) {</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            success = <span class="keyword">true</span>;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            <a class="code" href="a01011.html#adf75d9635323cc786c012fe69ceef418">ITT_NOTIFY</a>( sync_acquired, dst );</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;            <a class="code" href="a01011.html#adf75d9635323cc786c012fe69ceef418">ITT_NOTIFY</a>( sync_acquired, <a class="code" href="a00497.html#ab90a13d57abef607840c1cb8a65e1415">head_page</a> );</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            base.assign_and_destroy_item( dst, *p, index );</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            <a class="code" href="a01011.html#adf75d9635323cc786c012fe69ceef418">ITT_NOTIFY</a>( <a class="code" href="a01016.html#ac5a347b47a5603a1f30f6fbf790724b7">sync_releasing</a>, <a class="code" href="a00497.html#ab90a13d57abef607840c1cb8a65e1415">head_page</a> );</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            --base.my_rep-&gt;n_invalid_entries;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        }</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    }</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordflow">return</span> success;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;}</div><div class="ttc" id="a01133_html_a9006317b947d3f9f7a457e295e5b8330"><div class="ttname"><a href="a01133.html#a9006317b947d3f9f7a457e295e5b8330">tbb::internal::spin_wait_until_eq</a></div><div class="ttdeci">void spin_wait_until_eq(const volatile T &amp;location, const U value)</div><div class="ttdoc">Spin UNTIL the value of the variable is equal to a given value. </div><div class="ttdef"><b>Definition:</b> <a href="a01089_source.html#l00403">tbb_machine.h:403</a></div></div>
<div class="ttc" id="a00497_html_abfbb52dc64a390a9ea686b82bcdf2d87"><div class="ttname"><a href="a00497.html#abfbb52dc64a390a9ea686b82bcdf2d87">tbb::internal::micro_queue::head_counter</a></div><div class="ttdeci">atomic&lt; ticket &gt; head_counter</div><div class="ttdef"><b>Definition:</b> <a href="a00981_source.html#l00057">concurrent_queue.cpp:57</a></div></div>
<div class="ttc" id="a00497_html_af9d77751ce020de86b4b39ef70afe96c"><div class="ttname"><a href="a00497.html#af9d77751ce020de86b4b39ef70afe96c">tbb::internal::micro_queue::tail_counter</a></div><div class="ttdeci">atomic&lt; ticket &gt; tail_counter</div><div class="ttdef"><b>Definition:</b> <a href="a00981_source.html#l00060">concurrent_queue.cpp:60</a></div></div>
<div class="ttc" id="a00159_html_ac5a5e9a7bb3d402500f19b8e3a76b611"><div class="ttname"><a href="a00159.html#ac5a5e9a7bb3d402500f19b8e3a76b611">tbb::internal::concurrent_queue_rep::n_queue</a></div><div class="ttdeci">static const size_t n_queue</div><div class="ttdoc">Must be power of 2. </div><div class="ttdef"><b>Definition:</b> <a href="a00981_source.html#l00126">concurrent_queue.cpp:126</a></div></div>
<div class="ttc" id="a01016_html_ac5a347b47a5603a1f30f6fbf790724b7"><div class="ttname"><a href="a01016.html#ac5a347b47a5603a1f30f6fbf790724b7">sync_releasing</a></div><div class="ttdeci">void const char const char int ITT_FORMAT __itt_group_sync x void const char ITT_FORMAT __itt_group_sync s void ITT_FORMAT __itt_group_sync p void ITT_FORMAT p sync_releasing</div><div class="ttdef"><b>Definition:</b> <a href="a01016_source.html#l00093">ittnotify_static.h:93</a></div></div>
<div class="ttc" id="a01011_html_adf75d9635323cc786c012fe69ceef418"><div class="ttname"><a href="a01011.html#adf75d9635323cc786c012fe69ceef418">ITT_NOTIFY</a></div><div class="ttdeci">#define ITT_NOTIFY(name, obj)</div><div class="ttdef"><b>Definition:</b> <a href="a01011_source.html#l00120">itt_notify.h:120</a></div></div>
<div class="ttc" id="a00497_html_afa7239963be1c09c06dcbd0bfdfa622a"><div class="ttname"><a href="a00497.html#afa7239963be1c09c06dcbd0bfdfa622a">tbb::internal::micro_queue::page</a></div><div class="ttdeci">concurrent_queue_base::page page</div><div class="ttdef"><b>Definition:</b> <a href="a00981_source.html#l00052">concurrent_queue.cpp:52</a></div></div>
<div class="ttc" id="a01133_html_af06e92f81977291b074b4de815acc31e"><div class="ttname"><a href="a01133.html#af06e92f81977291b074b4de815acc31e">tbb::internal::spin_wait_while_eq</a></div><div class="ttdeci">void spin_wait_while_eq(const volatile T &amp;location, U value)</div><div class="ttdoc">Spin WHILE the value of the variable is equal to a given value. </div><div class="ttdef"><b>Definition:</b> <a href="a01089_source.html#l00395">tbb_machine.h:395</a></div></div>
<div class="ttc" id="a00497_html_ab8fc76921acfa4faa75fe3af5d54cb08"><div class="ttname"><a href="a00497.html#ab8fc76921acfa4faa75fe3af5d54cb08">tbb::internal::micro_queue::micro_queue_pop_finalizer</a></div><div class="ttdeci">friend class micro_queue_pop_finalizer</div><div class="ttdef"><b>Definition:</b> <a href="a00981_source.html#l00054">concurrent_queue.cpp:54</a></div></div>
<div class="ttc" id="a01133_html_ae4046a97e0542e3bb86bf9c54b0861e2"><div class="ttname"><a href="a01133.html#ae4046a97e0542e3bb86bf9c54b0861e2">tbb::internal::modulo_power_of_two</a></div><div class="ttdeci">argument_integer_type modulo_power_of_two(argument_integer_type arg, divisor_integer_type divisor)</div><div class="ttdoc">A function to compute arg modulo divisor where divisor is a power of 2. </div><div class="ttdef"><b>Definition:</b> <a href="a01098_source.html#l00365">tbb_stddef.h:365</a></div></div>
<div class="ttc" id="a01098_html_a7b58d28a34a1717e2ddb591f00658b10"><div class="ttname"><a href="a01098.html#a7b58d28a34a1717e2ddb591f00658b10">__TBB_ASSERT</a></div><div class="ttdeci">#define __TBB_ASSERT(predicate, comment)</div><div class="ttdoc">No-op version of __TBB_ASSERT. </div><div class="ttdef"><b>Definition:</b> <a href="a01098_source.html#l00169">tbb_stddef.h:169</a></div></div>
<div class="ttc" id="a01016_html_ae01354a6a694c51fb79588444a08cbee"><div class="ttname"><a href="a01016.html#ae01354a6a694c51fb79588444a08cbee">p</a></div><div class="ttdeci">void const char const char int ITT_FORMAT __itt_group_sync p</div><div class="ttdef"><b>Definition:</b> <a href="a01016_source.html#l00080">ittnotify_static.h:80</a></div></div>
<div class="ttc" id="a00497_html_ab90a13d57abef607840c1cb8a65e1415"><div class="ttname"><a href="a00497.html#ab90a13d57abef607840c1cb8a65e1415">tbb::internal::micro_queue::head_page</a></div><div class="ttdeci">atomic&lt; page * &gt; head_page</div><div class="ttdef"><b>Definition:</b> <a href="a00981_source.html#l00056">concurrent_queue.cpp:56</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="a00497_acf53d0cdfd439273c8d3d52b860abe3f_cgraph.svg" width="100%" height="497"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="a00497_acf53d0cdfd439273c8d3d52b860abe3f_icgraph.svg" width="388" height="132"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7fe11e7da2dc9af4a9e37e208c1d0308"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a> tbb::internal::micro_queue::push </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a> *&#160;</td>
          <td class="paramname"><em>item</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a01133.html#a7c22b9cabfe84a547f0ff26a1aa3e4a4">ticket</a>&#160;</td>
          <td class="paramname"><em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a01133.html#adb5cbd44651674e0431c2a18b19bd1fa">concurrent_queue_base</a> &amp;&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a00149.html#aed9766c09c176c33e8386327b3f3698b">concurrent_queue_base::copy_specifics</a>&#160;</td>
          <td class="paramname"><em>op_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00981_source.html#l00165">165</a> of file <a class="el" href="a00981_source.html">concurrent_queue.cpp</a>.</p>

<p>References <a class="el" href="a01098.html#a7b58d28a34a1717e2ddb591f00658b10">__TBB_ASSERT</a>, <a class="el" href="a01098.html#a1e83dce98dc82007213f4109f8903cb8">__TBB_CATCH</a>, <a class="el" href="a01098.html#affef623b71eccade29a6276f789315b8">__TBB_RETHROW</a>, <a class="el" href="a01098.html#a6df2b2237c9996f178d7b4ac3691c443">__TBB_TRY</a>, <a class="el" href="a00149.html#a2df8f1ca6bc7635e07aa2f84b0d5296f">tbb::internal::concurrent_queue_base_v3::allocate_page()</a>, <a class="el" href="a00149.html#aed9766c09c176c33e8386327b3f3698bacd185c79ef6c06277eb6198b6263e7ed">tbb::internal::concurrent_queue_base_v3::copy</a>, <a class="el" href="a00149.html#a5296bf39d479509d6b6cd93a5d425047">tbb::internal::concurrent_queue_base_v3::copy_item()</a>, <a class="el" href="a01133.html#ace88c7330e7f616616785ffb001e04f9ab2c2a7ef592ba18e01d0d7323cc9b085">tbb::internal::eid_bad_last_alloc</a>, <a class="el" href="a00497.html#ab90a13d57abef607840c1cb8a65e1415">head_page</a>, <a class="el" href="a00149.html#aee8921b2410c92480d095baf9639a9d0">tbb::internal::concurrent_queue_base_v3::items_per_page</a>, <a class="el" href="a01011.html#adf75d9635323cc786c012fe69ceef418">ITT_NOTIFY</a>, <a class="el" href="a01016.html#a46e8be2e3aadb2f6ee62e762a36b9243">lock</a>, <a class="el" href="a00497.html#a6f97a68520f2c6a7cf67d03c476ca4ef">make_invalid()</a>, <a class="el" href="a00560.html#a84252c824b96322689bb7942a452dc5f">tbb::internal::concurrent_queue_base_v3::page::mask</a>, <a class="el" href="a01133.html#ae4046a97e0542e3bb86bf9c54b0861e2">tbb::internal::modulo_power_of_two()</a>, <a class="el" href="a00149.html#aed9766c09c176c33e8386327b3f3698ba86ac8b85ba9eb37cd08c238b155bc90f">tbb::internal::concurrent_queue_base_v3::move</a>, <a class="el" href="a00149.html#a4a88041d465f628be9bfa3c4e1fc9e77">tbb::internal::concurrent_queue_base_v3::my_rep</a>, <a class="el" href="a00159.html#ac6d1a308f4ab8138dafec71e5dbab230">tbb::internal::concurrent_queue_rep::n_invalid_entries</a>, <a class="el" href="a00159.html#ac5a5e9a7bb3d402500f19b8e3a76b611">tbb::internal::concurrent_queue_rep::n_queue</a>, <a class="el" href="a00560.html#af5bce280f85d9baa82c15210fa69e1ca">tbb::internal::concurrent_queue_base_v3::page::next</a>, <a class="el" href="a01016.html#ae01354a6a694c51fb79588444a08cbee">p</a>, <a class="el" href="a00497.html#ad18d15543690c01325113fdd9585c14e">page_mutex</a>, <a class="el" href="a00082.html#a03a7500cc7bb0ad8ab421b2cafd48e9c">tbb::internal::atomic_backoff::pause()</a>, <a class="el" href="a01016.html#ac5a347b47a5603a1f30f6fbf790724b7">sync_releasing</a>, <a class="el" href="a01016.html#a799265ed1847aea632c285b2e63c1064">tail</a>, <a class="el" href="a00497.html#af9d77751ce020de86b4b39ef70afe96c">tail_counter</a>, <a class="el" href="a00497.html#a00944c7a1380b79e9d9e0e6ddd37c519">tail_page</a>, and <a class="el" href="a01133.html#a61a681f9fd15fdb055f7725d6416ddf4">tbb::internal::throw_exception()</a>.</p>

<p>Referenced by <a class="el" href="a00497.html#abf8b2f9f05a9152a8c53ec6f9551d0d0">abort_push()</a>, <a class="el" href="a00149.html#aa893f5b109edc6e29006933079b40c28">tbb::internal::concurrent_queue_base_v3::internal_insert_if_not_full()</a>, and <a class="el" href="a00149.html#a6b68fa0da8231513c31217b4090703ba">tbb::internal::concurrent_queue_base_v3::internal_insert_item()</a>.</p>
<div class="fragment"><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                                                                      {</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    k &amp;= -<a class="code" href="a00159.html#ac5a5e9a7bb3d402500f19b8e3a76b611">concurrent_queue_rep::n_queue</a>;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <a class="code" href="a00497.html#afa7239963be1c09c06dcbd0bfdfa622a">page</a>* <a class="code" href="a01016.html#ae01354a6a694c51fb79588444a08cbee">p</a> = NULL;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="comment">// find index on page where we would put the data</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordtype">size_t</span> index = <a class="code" href="a01133.html#ae4046a97e0542e3bb86bf9c54b0861e2">modulo_power_of_two</a>( k/<a class="code" href="a00159.html#ac5a5e9a7bb3d402500f19b8e3a76b611">concurrent_queue_rep::n_queue</a>, base.items_per_page );</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">if</span>( !index ) {  <span class="comment">// make a new page</span></div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <a class="code" href="a01098.html#a6df2b2237c9996f178d7b4ac3691c443">__TBB_TRY</a> {</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            p = base.allocate_page();</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        } <a class="code" href="a01098.html#a1e83dce98dc82007213f4109f8903cb8">__TBB_CATCH</a>(...) {</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            ++base.my_rep-&gt;n_invalid_entries;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            <a class="code" href="a00497.html#a6f97a68520f2c6a7cf67d03c476ca4ef">make_invalid</a>( k );</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            <a class="code" href="a01098.html#affef623b71eccade29a6276f789315b8">__TBB_RETHROW</a>();</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        }</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        p-&gt;mask = 0;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        p-&gt;next = NULL;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    }</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="comment">// wait for my turn</span></div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordflow">if</span>( <a class="code" href="a00497.html#af9d77751ce020de86b4b39ef70afe96c">tail_counter</a>!=k ) <span class="comment">// The developer insisted on keeping first check out of the backoff loop</span></div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <span class="keywordflow">for</span>( atomic_backoff b(<span class="keyword">true</span>);;b.pause() ) {</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            <a class="code" href="a01133.html#a7c22b9cabfe84a547f0ff26a1aa3e4a4">ticket</a> <a class="code" href="a01016.html#a799265ed1847aea632c285b2e63c1064">tail</a> = <a class="code" href="a00497.html#af9d77751ce020de86b4b39ef70afe96c">tail_counter</a>;</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            <span class="keywordflow">if</span>( tail==k ) <span class="keywordflow">break</span>;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span>( tail&amp;0x1 ) {</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                <span class="comment">// no memory. throws an exception; assumes concurrent_queue_rep::n_queue&gt;1</span></div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                ++base.my_rep-&gt;n_invalid_entries;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                <a class="code" href="a01133.html#a61a681f9fd15fdb055f7725d6416ddf4">throw_exception</a>( <a class="code" href="a01133.html#ace88c7330e7f616616785ffb001e04f9ab2c2a7ef592ba18e01d0d7323cc9b085">eid_bad_last_alloc</a> );</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            }</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        }</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">if</span>( p ) { <span class="comment">// page is newly allocated; insert in micro_queue</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <a class="code" href="a00721.html#afcf922650b2fd9d76b7b939d8511bbd8">spin_mutex::scoped_lock</a> <a class="code" href="a01016.html#a46e8be2e3aadb2f6ee62e762a36b9243">lock</a>( <a class="code" href="a00497.html#ad18d15543690c01325113fdd9585c14e">page_mutex</a> );</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="a00497.html#afa7239963be1c09c06dcbd0bfdfa622a">page</a>* q = <a class="code" href="a00497.html#a00944c7a1380b79e9d9e0e6ddd37c519">tail_page</a> )</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;            q-&gt;next = <a class="code" href="a01016.html#ae01354a6a694c51fb79588444a08cbee">p</a>;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <span class="keywordflow">else</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            <a class="code" href="a00497.html#ab90a13d57abef607840c1cb8a65e1415">head_page</a> = <a class="code" href="a01016.html#ae01354a6a694c51fb79588444a08cbee">p</a>;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <a class="code" href="a00497.html#a00944c7a1380b79e9d9e0e6ddd37c519">tail_page</a> = <a class="code" href="a01016.html#ae01354a6a694c51fb79588444a08cbee">p</a>;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    }</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordflow">if</span> (item) {</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        p = <a class="code" href="a00497.html#a00944c7a1380b79e9d9e0e6ddd37c519">tail_page</a>;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        <a class="code" href="a01011.html#adf75d9635323cc786c012fe69ceef418">ITT_NOTIFY</a>( sync_acquired, p );</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        <a class="code" href="a01098.html#a6df2b2237c9996f178d7b4ac3691c443">__TBB_TRY</a> {</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="a00149.html#aed9766c09c176c33e8386327b3f3698bacd185c79ef6c06277eb6198b6263e7ed">concurrent_queue_base::copy</a> == op_type ) {</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                base.copy_item( *p, index, item );</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                <a class="code" href="a01098.html#a7b58d28a34a1717e2ddb591f00658b10">__TBB_ASSERT</a>( <a class="code" href="a00149.html#aed9766c09c176c33e8386327b3f3698ba86ac8b85ba9eb37cd08c238b155bc90f">concurrent_queue_base::move</a> == op_type, NULL );</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                <span class="keyword">static_cast&lt;</span>concurrent_queue_base_v8&amp;<span class="keyword">&gt;</span>(base).move_item( *p, index, item );</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            }</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        }  <a class="code" href="a01098.html#a1e83dce98dc82007213f4109f8903cb8">__TBB_CATCH</a>(...) {</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;            ++base.my_rep-&gt;n_invalid_entries;</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            <a class="code" href="a00497.html#af9d77751ce020de86b4b39ef70afe96c">tail_counter</a> += <a class="code" href="a00159.html#ac5a5e9a7bb3d402500f19b8e3a76b611">concurrent_queue_rep::n_queue</a>;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            <a class="code" href="a01098.html#affef623b71eccade29a6276f789315b8">__TBB_RETHROW</a>();</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        }</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <a class="code" href="a01011.html#adf75d9635323cc786c012fe69ceef418">ITT_NOTIFY</a>( <a class="code" href="a01016.html#ac5a347b47a5603a1f30f6fbf790724b7">sync_releasing</a>, p );</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="comment">// If no exception was thrown, mark item as present.</span></div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        p-&gt;mask |= uintptr_t(1)&lt;&lt;index;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    }</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">else</span> <span class="comment">// no item; this was called from abort_push</span></div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        ++base.my_rep-&gt;n_invalid_entries;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <a class="code" href="a00497.html#af9d77751ce020de86b4b39ef70afe96c">tail_counter</a> += <a class="code" href="a00159.html#ac5a5e9a7bb3d402500f19b8e3a76b611">concurrent_queue_rep::n_queue</a>;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;}</div><div class="ttc" id="a01133_html_ace88c7330e7f616616785ffb001e04f9ab2c2a7ef592ba18e01d0d7323cc9b085"><div class="ttname"><a href="a01133.html#ace88c7330e7f616616785ffb001e04f9ab2c2a7ef592ba18e01d0d7323cc9b085">tbb::internal::eid_bad_last_alloc</a></div><div class="ttdef"><b>Definition:</b> <a href="a01088_source.html#l00070">tbb_exception.h:70</a></div></div>
<div class="ttc" id="a01016_html_a46e8be2e3aadb2f6ee62e762a36b9243"><div class="ttname"><a href="a01016.html#a46e8be2e3aadb2f6ee62e762a36b9243">lock</a></div><div class="ttdeci">void const char const char int ITT_FORMAT __itt_group_sync x void const char ITT_FORMAT __itt_group_sync s void ITT_FORMAT __itt_group_sync p void ITT_FORMAT p void ITT_FORMAT p no args __itt_suppress_mode_t unsigned int void size_t ITT_FORMAT d void ITT_FORMAT p void ITT_FORMAT p __itt_model_site __itt_model_site_instance ITT_FORMAT p __itt_model_task __itt_model_task_instance ITT_FORMAT p void * lock</div><div class="ttdef"><b>Definition:</b> <a href="a01016_source.html#l00110">ittnotify_static.h:110</a></div></div>
<div class="ttc" id="a01098_html_a1e83dce98dc82007213f4109f8903cb8"><div class="ttname"><a href="a01098.html#a1e83dce98dc82007213f4109f8903cb8">__TBB_CATCH</a></div><div class="ttdeci">#define __TBB_CATCH(e)</div><div class="ttdef"><b>Definition:</b> <a href="a01098_source.html#l00288">tbb_stddef.h:288</a></div></div>
<div class="ttc" id="a00497_html_a00944c7a1380b79e9d9e0e6ddd37c519"><div class="ttname"><a href="a00497.html#a00944c7a1380b79e9d9e0e6ddd37c519">tbb::internal::micro_queue::tail_page</a></div><div class="ttdeci">atomic&lt; page * &gt; tail_page</div><div class="ttdef"><b>Definition:</b> <a href="a00981_source.html#l00059">concurrent_queue.cpp:59</a></div></div>
<div class="ttc" id="a00149_html_aed9766c09c176c33e8386327b3f3698ba86ac8b85ba9eb37cd08c238b155bc90f"><div class="ttname"><a href="a00149.html#aed9766c09c176c33e8386327b3f3698ba86ac8b85ba9eb37cd08c238b155bc90f">tbb::internal::concurrent_queue_base_v3::move</a></div><div class="ttdef"><b>Definition:</b> <a href="a00938_source.html#l00851">_concurrent_queue_impl.h:851</a></div></div>
<div class="ttc" id="a01133_html_a7c22b9cabfe84a547f0ff26a1aa3e4a4"><div class="ttname"><a href="a01133.html#a7c22b9cabfe84a547f0ff26a1aa3e4a4">tbb::internal::ticket</a></div><div class="ttdeci">size_t ticket</div><div class="ttdef"><b>Definition:</b> <a href="a00981_source.html#l00046">concurrent_queue.cpp:46</a></div></div>
<div class="ttc" id="a00497_html_af9d77751ce020de86b4b39ef70afe96c"><div class="ttname"><a href="a00497.html#af9d77751ce020de86b4b39ef70afe96c">tbb::internal::micro_queue::tail_counter</a></div><div class="ttdeci">atomic&lt; ticket &gt; tail_counter</div><div class="ttdef"><b>Definition:</b> <a href="a00981_source.html#l00060">concurrent_queue.cpp:60</a></div></div>
<div class="ttc" id="a00497_html_a6f97a68520f2c6a7cf67d03c476ca4ef"><div class="ttname"><a href="a00497.html#a6f97a68520f2c6a7cf67d03c476ca4ef">tbb::internal::micro_queue::make_invalid</a></div><div class="ttdeci">void make_invalid(ticket k)</div><div class="ttdef"><b>Definition:</b> <a href="a00981_source.html#l00318">concurrent_queue.cpp:318</a></div></div>
<div class="ttc" id="a00159_html_ac5a5e9a7bb3d402500f19b8e3a76b611"><div class="ttname"><a href="a00159.html#ac5a5e9a7bb3d402500f19b8e3a76b611">tbb::internal::concurrent_queue_rep::n_queue</a></div><div class="ttdeci">static const size_t n_queue</div><div class="ttdoc">Must be power of 2. </div><div class="ttdef"><b>Definition:</b> <a href="a00981_source.html#l00126">concurrent_queue.cpp:126</a></div></div>
<div class="ttc" id="a01098_html_a6df2b2237c9996f178d7b4ac3691c443"><div class="ttname"><a href="a01098.html#a6df2b2237c9996f178d7b4ac3691c443">__TBB_TRY</a></div><div class="ttdeci">#define __TBB_TRY</div><div class="ttdef"><b>Definition:</b> <a href="a01098_source.html#l00287">tbb_stddef.h:287</a></div></div>
<div class="ttc" id="a01016_html_ac5a347b47a5603a1f30f6fbf790724b7"><div class="ttname"><a href="a01016.html#ac5a347b47a5603a1f30f6fbf790724b7">sync_releasing</a></div><div class="ttdeci">void const char const char int ITT_FORMAT __itt_group_sync x void const char ITT_FORMAT __itt_group_sync s void ITT_FORMAT __itt_group_sync p void ITT_FORMAT p sync_releasing</div><div class="ttdef"><b>Definition:</b> <a href="a01016_source.html#l00093">ittnotify_static.h:93</a></div></div>
<div class="ttc" id="a01011_html_adf75d9635323cc786c012fe69ceef418"><div class="ttname"><a href="a01011.html#adf75d9635323cc786c012fe69ceef418">ITT_NOTIFY</a></div><div class="ttdeci">#define ITT_NOTIFY(name, obj)</div><div class="ttdef"><b>Definition:</b> <a href="a01011_source.html#l00120">itt_notify.h:120</a></div></div>
<div class="ttc" id="a01133_html_a61a681f9fd15fdb055f7725d6416ddf4"><div class="ttname"><a href="a01133.html#a61a681f9fd15fdb055f7725d6416ddf4">tbb::internal::throw_exception</a></div><div class="ttdeci">void throw_exception(exception_id eid)</div><div class="ttdoc">Versionless convenience wrapper for throw_exception_v4() </div><div class="ttdef"><b>Definition:</b> <a href="a01088_source.html#l00106">tbb_exception.h:106</a></div></div>
<div class="ttc" id="a00497_html_afa7239963be1c09c06dcbd0bfdfa622a"><div class="ttname"><a href="a00497.html#afa7239963be1c09c06dcbd0bfdfa622a">tbb::internal::micro_queue::page</a></div><div class="ttdeci">concurrent_queue_base::page page</div><div class="ttdef"><b>Definition:</b> <a href="a00981_source.html#l00052">concurrent_queue.cpp:52</a></div></div>
<div class="ttc" id="a00721_html_afcf922650b2fd9d76b7b939d8511bbd8"><div class="ttname"><a href="a00721.html#afcf922650b2fd9d76b7b939d8511bbd8">tbb::spin_mutex::scoped_lock</a></div><div class="ttdeci">friend class scoped_lock</div><div class="ttdef"><b>Definition:</b> <a href="a01068_source.html#l00180">spin_mutex.h:180</a></div></div>
<div class="ttc" id="a01133_html_ae4046a97e0542e3bb86bf9c54b0861e2"><div class="ttname"><a href="a01133.html#ae4046a97e0542e3bb86bf9c54b0861e2">tbb::internal::modulo_power_of_two</a></div><div class="ttdeci">argument_integer_type modulo_power_of_two(argument_integer_type arg, divisor_integer_type divisor)</div><div class="ttdoc">A function to compute arg modulo divisor where divisor is a power of 2. </div><div class="ttdef"><b>Definition:</b> <a href="a01098_source.html#l00365">tbb_stddef.h:365</a></div></div>
<div class="ttc" id="a00149_html_aed9766c09c176c33e8386327b3f3698bacd185c79ef6c06277eb6198b6263e7ed"><div class="ttname"><a href="a00149.html#aed9766c09c176c33e8386327b3f3698bacd185c79ef6c06277eb6198b6263e7ed">tbb::internal::concurrent_queue_base_v3::copy</a></div><div class="ttdef"><b>Definition:</b> <a href="a00938_source.html#l00851">_concurrent_queue_impl.h:851</a></div></div>
<div class="ttc" id="a00497_html_ad18d15543690c01325113fdd9585c14e"><div class="ttname"><a href="a00497.html#ad18d15543690c01325113fdd9585c14e">tbb::internal::micro_queue::page_mutex</a></div><div class="ttdeci">spin_mutex page_mutex</div><div class="ttdef"><b>Definition:</b> <a href="a00981_source.html#l00062">concurrent_queue.cpp:62</a></div></div>
<div class="ttc" id="a01098_html_a7b58d28a34a1717e2ddb591f00658b10"><div class="ttname"><a href="a01098.html#a7b58d28a34a1717e2ddb591f00658b10">__TBB_ASSERT</a></div><div class="ttdeci">#define __TBB_ASSERT(predicate, comment)</div><div class="ttdoc">No-op version of __TBB_ASSERT. </div><div class="ttdef"><b>Definition:</b> <a href="a01098_source.html#l00169">tbb_stddef.h:169</a></div></div>
<div class="ttc" id="a01016_html_a799265ed1847aea632c285b2e63c1064"><div class="ttname"><a href="a01016.html#a799265ed1847aea632c285b2e63c1064">tail</a></div><div class="ttdeci">void const char const char int ITT_FORMAT __itt_group_sync x void const char ITT_FORMAT __itt_group_sync s void ITT_FORMAT __itt_group_sync p void ITT_FORMAT p void ITT_FORMAT p no args __itt_suppress_mode_t unsigned int void size_t ITT_FORMAT d void ITT_FORMAT p void ITT_FORMAT p __itt_model_site __itt_model_site_instance ITT_FORMAT p __itt_model_task __itt_model_task_instance ITT_FORMAT p void ITT_FORMAT p void ITT_FORMAT p void size_t ITT_FORMAT d void ITT_FORMAT p const wchar_t ITT_FORMAT s const char ITT_FORMAT s const char ITT_FORMAT s const char ITT_FORMAT s no args void ITT_FORMAT p size_t ITT_FORMAT d no args const wchar_t const wchar_t ITT_FORMAT s __itt_heap_function void size_t int ITT_FORMAT d __itt_heap_function void ITT_FORMAT p __itt_heap_function void void size_t int ITT_FORMAT d no args no args unsigned int ITT_FORMAT u const __itt_domain __itt_id ITT_FORMAT lu const __itt_domain __itt_id __itt_id __itt_string_handle ITT_FORMAT p const __itt_domain __itt_id ITT_FORMAT p const __itt_domain __itt_id __itt_timestamp __itt_timestamp ITT_FORMAT lu const __itt_domain __itt_id __itt_id __itt_string_handle ITT_FORMAT p const __itt_domain ITT_FORMAT p const __itt_domain __itt_string_handle unsigned long long ITT_FORMAT lu const __itt_domain __itt_id __itt_string_handle __itt_metadata_type size_t void ITT_FORMAT p const __itt_domain __itt_id __itt_string_handle const wchar_t size_t ITT_FORMAT lu const __itt_domain __itt_id __itt_relation __itt_id tail</div><div class="ttdef"><b>Definition:</b> <a href="a01016_source.html#l00194">ittnotify_static.h:194</a></div></div>
<div class="ttc" id="a01098_html_affef623b71eccade29a6276f789315b8"><div class="ttname"><a href="a01098.html#affef623b71eccade29a6276f789315b8">__TBB_RETHROW</a></div><div class="ttdeci">#define __TBB_RETHROW()</div><div class="ttdef"><b>Definition:</b> <a href="a01098_source.html#l00290">tbb_stddef.h:290</a></div></div>
<div class="ttc" id="a01016_html_ae01354a6a694c51fb79588444a08cbee"><div class="ttname"><a href="a01016.html#ae01354a6a694c51fb79588444a08cbee">p</a></div><div class="ttdeci">void const char const char int ITT_FORMAT __itt_group_sync p</div><div class="ttdef"><b>Definition:</b> <a href="a01016_source.html#l00080">ittnotify_static.h:80</a></div></div>
<div class="ttc" id="a00497_html_ab90a13d57abef607840c1cb8a65e1415"><div class="ttname"><a href="a00497.html#ab90a13d57abef607840c1cb8a65e1415">tbb::internal::micro_queue::head_page</a></div><div class="ttdeci">atomic&lt; page * &gt; head_page</div><div class="ttdef"><b>Definition:</b> <a href="a00981_source.html#l00056">concurrent_queue.cpp:56</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="a00497_a7fe11e7da2dc9af4a9e37e208c1d0308_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="a00497_a7fe11e7da2dc9af4a9e37e208c1d0308_icgraph.svg" width="579" height="184"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="ab8fc76921acfa4faa75fe3af5d54cb08"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="a00499.html">micro_queue_pop_finalizer</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00981_source.html#l00054">54</a> of file <a class="el" href="a00981_source.html">concurrent_queue.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="abfbb52dc64a390a9ea686b82bcdf2d87"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00079.html">atomic</a>&lt;<a class="el" href="a01133.html#a7c22b9cabfe84a547f0ff26a1aa3e4a4">ticket</a>&gt; tbb::internal::micro_queue::head_counter</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00981_source.html#l00057">57</a> of file <a class="el" href="a00981_source.html">concurrent_queue.cpp</a>.</p>

<p>Referenced by <a class="el" href="a00497.html#a7cce1248bacd9b29b296868bdd6b72dc">assign()</a>, <a class="el" href="a00497.html#acf53d0cdfd439273c8d3d52b860abe3f">pop()</a>, and <a class="el" href="a00499.html#ab8d3dd72cf30dbe954bdb21baa4186db">tbb::internal::micro_queue_pop_finalizer::~micro_queue_pop_finalizer()</a>.</p>

</div>
</div>
<a class="anchor" id="ab90a13d57abef607840c1cb8a65e1415"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00079.html">atomic</a>&lt;<a class="el" href="a00497.html#afa7239963be1c09c06dcbd0bfdfa622a">page</a>*&gt; tbb::internal::micro_queue::head_page</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00981_source.html#l00056">56</a> of file <a class="el" href="a00981_source.html">concurrent_queue.cpp</a>.</p>

<p>Referenced by <a class="el" href="a00497.html#a7cce1248bacd9b29b296868bdd6b72dc">assign()</a>, <a class="el" href="a00156.html#a868a3f6a30a5bd8b089832e61e846a29">tbb::internal::concurrent_queue_iterator_rep::concurrent_queue_iterator_rep()</a>, <a class="el" href="a00497.html#a6f97a68520f2c6a7cf67d03c476ca4ef">make_invalid()</a>, <a class="el" href="a00497.html#acf53d0cdfd439273c8d3d52b860abe3f">pop()</a>, <a class="el" href="a00497.html#a7fe11e7da2dc9af4a9e37e208c1d0308">push()</a>, and <a class="el" href="a00499.html#ab8d3dd72cf30dbe954bdb21baa4186db">tbb::internal::micro_queue_pop_finalizer::~micro_queue_pop_finalizer()</a>.</p>

</div>
</div>
<a class="anchor" id="ad18d15543690c01325113fdd9585c14e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00721.html">spin_mutex</a> tbb::internal::micro_queue::page_mutex</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00981_source.html#l00062">62</a> of file <a class="el" href="a00981_source.html">concurrent_queue.cpp</a>.</p>

<p>Referenced by <a class="el" href="a00497.html#a6f97a68520f2c6a7cf67d03c476ca4ef">make_invalid()</a>, <a class="el" href="a00497.html#a7fe11e7da2dc9af4a9e37e208c1d0308">push()</a>, and <a class="el" href="a00499.html#ab8d3dd72cf30dbe954bdb21baa4186db">tbb::internal::micro_queue_pop_finalizer::~micro_queue_pop_finalizer()</a>.</p>

</div>
</div>
<a class="anchor" id="af9d77751ce020de86b4b39ef70afe96c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00079.html">atomic</a>&lt;<a class="el" href="a01133.html#a7c22b9cabfe84a547f0ff26a1aa3e4a4">ticket</a>&gt; tbb::internal::micro_queue::tail_counter</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00981_source.html#l00060">60</a> of file <a class="el" href="a00981_source.html">concurrent_queue.cpp</a>.</p>

<p>Referenced by <a class="el" href="a00497.html#a7cce1248bacd9b29b296868bdd6b72dc">assign()</a>, and <a class="el" href="a00497.html#a7fe11e7da2dc9af4a9e37e208c1d0308">push()</a>.</p>

</div>
</div>
<a class="anchor" id="a00944c7a1380b79e9d9e0e6ddd37c519"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00079.html">atomic</a>&lt;<a class="el" href="a00497.html#afa7239963be1c09c06dcbd0bfdfa622a">page</a>*&gt; tbb::internal::micro_queue::tail_page</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a00981_source.html#l00059">59</a> of file <a class="el" href="a00981_source.html">concurrent_queue.cpp</a>.</p>

<p>Referenced by <a class="el" href="a00497.html#a7cce1248bacd9b29b296868bdd6b72dc">assign()</a>, <a class="el" href="a00497.html#a6f97a68520f2c6a7cf67d03c476ca4ef">make_invalid()</a>, <a class="el" href="a00497.html#a7fe11e7da2dc9af4a9e37e208c1d0308">push()</a>, and <a class="el" href="a00499.html#ab8d3dd72cf30dbe954bdb21baa4186db">tbb::internal::micro_queue_pop_finalizer::~micro_queue_pop_finalizer()</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="a00981_source.html">concurrent_queue.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p></p>
Copyright &copy; 2005-2019 Intel Corporation.  All Rights Reserved.
<p></p>
Intel, Pentium, Intel Xeon, Itanium, Intel XScale and VTune are
registered trademarks or trademarks of Intel Corporation or its
subsidiaries in the United States and other countries.
<p></p>
* Other names and brands may be claimed as the property of others.
