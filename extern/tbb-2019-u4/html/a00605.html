<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Intel(R) Threading Building Blocks Doxygen Documentation: tbb::internal::rml::private_server Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Intel(R) Threading Building Blocks Doxygen Documentation
   &#160;<span id="projectnumber">version 4.2.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a00605.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="a03693.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">tbb::internal::rml::private_server Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for tbb::internal::rml::private_server:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="a03694.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div class="dynheader">
Collaboration diagram for tbb::internal::rml::private_server:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="a03695.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a941f2e582957e03d164a9a3c81e77fa2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00605.html#a941f2e582957e03d164a9a3c81e77fa2">private_server</a> (tbb_client &amp;client)</td></tr>
<tr class="separator:a941f2e582957e03d164a9a3c81e77fa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0eb1efa6f4ec7fc6f21bf729b80690be"><td class="memItemLeft" align="right" valign="top">version_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00605.html#a0eb1efa6f4ec7fc6f21bf729b80690be">version</a> () const <a class="el" href="a01098.html#a96e63952df71e13e2b1122e612966ef7">__TBB_override</a></td></tr>
<tr class="separator:a0eb1efa6f4ec7fc6f21bf729b80690be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3168e9dc158c52625a69a47ebf840d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00605.html#aa3168e9dc158c52625a69a47ebf840d5">request_close_connection</a> (bool) <a class="el" href="a01098.html#a96e63952df71e13e2b1122e612966ef7">__TBB_override</a></td></tr>
<tr class="separator:aa3168e9dc158c52625a69a47ebf840d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3417aa3f61a3ba3d6fed88b0e5a9b040"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00605.html#a3417aa3f61a3ba3d6fed88b0e5a9b040">yield</a> () <a class="el" href="a01098.html#a96e63952df71e13e2b1122e612966ef7">__TBB_override</a></td></tr>
<tr class="separator:a3417aa3f61a3ba3d6fed88b0e5a9b040"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f6777b6edbb4526ea7be59d8278a3fa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00605.html#a2f6777b6edbb4526ea7be59d8278a3fa">independent_thread_number_changed</a> (<a class="el" href="a01016.html#ac89988b817e773286215b17e80359ff3">int</a>) <a class="el" href="a01098.html#a96e63952df71e13e2b1122e612966ef7">__TBB_override</a></td></tr>
<tr class="separator:a2f6777b6edbb4526ea7be59d8278a3fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43a468f1aa03ce9be85e4cf0e99e7f17"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00605.html#a43a468f1aa03ce9be85e4cf0e99e7f17">default_concurrency</a> () const <a class="el" href="a01098.html#a96e63952df71e13e2b1122e612966ef7">__TBB_override</a></td></tr>
<tr class="separator:a43a468f1aa03ce9be85e4cf0e99e7f17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed71f902aab1aef77a016420c586f535"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00605.html#aed71f902aab1aef77a016420c586f535">adjust_job_count_estimate</a> (<a class="el" href="a01016.html#ac89988b817e773286215b17e80359ff3">int</a> delta) <a class="el" href="a01098.html#a96e63952df71e13e2b1122e612966ef7">__TBB_override</a></td></tr>
<tr class="separator:aed71f902aab1aef77a016420c586f535"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a53b661dc82f3484dfaba0cba1917cb6e"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="a01133.html#a7129c5cff1bad05eaf6c218a04f70456">scheduler_mutex_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00605.html#a53b661dc82f3484dfaba0cba1917cb6e">asleep_list_mutex_type</a></td></tr>
<tr class="memdesc:a53b661dc82f3484dfaba0cba1917cb6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Protects my_asleep_list_root.  <a href="#a53b661dc82f3484dfaba0cba1917cb6e">More...</a><br /></td></tr>
<tr class="separator:a53b661dc82f3484dfaba0cba1917cb6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a23bccadb141031d3e12b0c3c99838798"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00605.html#a23bccadb141031d3e12b0c3c99838798">propagate_chain_reaction</a> ()</td></tr>
<tr class="memdesc:a23bccadb141031d3e12b0c3c99838798"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wake up to two sleeping workers, if there are any sleeping.  <a href="#a23bccadb141031d3e12b0c3c99838798">More...</a><br /></td></tr>
<tr class="separator:a23bccadb141031d3e12b0c3c99838798"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65bd5075630d2f9cce6f71fc3c922e46"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00605.html#a65bd5075630d2f9cce6f71fc3c922e46">try_insert_in_asleep_list</a> (<a class="el" href="a00606.html">private_worker</a> &amp;t)</td></tr>
<tr class="memdesc:a65bd5075630d2f9cce6f71fc3c922e46"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to add t to list of sleeping workers.  <a href="#a65bd5075630d2f9cce6f71fc3c922e46">More...</a><br /></td></tr>
<tr class="separator:a65bd5075630d2f9cce6f71fc3c922e46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2be83f895b89b3861ee8ab31535c1f34"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00605.html#a2be83f895b89b3861ee8ab31535c1f34">wake_some</a> (<a class="el" href="a01016.html#ac89988b817e773286215b17e80359ff3">int</a> additional_slack)</td></tr>
<tr class="memdesc:a2be83f895b89b3861ee8ab31535c1f34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Equivalent of adding additional_slack to my_slack and waking up to 2 threads if my_slack permits.  <a href="#a2be83f895b89b3861ee8ab31535c1f34">More...</a><br /></td></tr>
<tr class="separator:a2be83f895b89b3861ee8ab31535c1f34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f85635899ef8652d32de0e42fcbd3cd"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00605.html#a3f85635899ef8652d32de0e42fcbd3cd">~private_server</a> ()</td></tr>
<tr class="separator:a3f85635899ef8652d32de0e42fcbd3cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8d1c910ec7d64b8fc93b03bdc23ef64"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00605.html#af8d1c910ec7d64b8fc93b03bdc23ef64">remove_server_ref</a> ()</td></tr>
<tr class="separator:af8d1c910ec7d64b8fc93b03bdc23ef64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_a00516"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_a00516')"><img src="closed.png" alt="-"/>&#160;Private Member Functions inherited from <a class="el" href="a00516.html">tbb::internal::no_copy</a></td></tr>
<tr class="memitem:af4e1b3fcb35a6fef56677270217798bb inherit pub_methods_a00516"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00516.html#af4e1b3fcb35a6fef56677270217798bb">no_copy</a> ()</td></tr>
<tr class="memdesc:af4e1b3fcb35a6fef56677270217798bb inherit pub_methods_a00516"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allow default construction.  <a href="#af4e1b3fcb35a6fef56677270217798bb">More...</a><br /></td></tr>
<tr class="separator:af4e1b3fcb35a6fef56677270217798bb inherit pub_methods_a00516"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:afab7ce16d2c4777bc78d3414018cd6c9"><td class="memItemLeft" align="right" valign="top">tbb_client &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00605.html#afab7ce16d2c4777bc78d3414018cd6c9">my_client</a></td></tr>
<tr class="separator:afab7ce16d2c4777bc78d3414018cd6c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1899982faeae9713e24d25d4fd26a34a"><td class="memItemLeft" align="right" valign="top">const tbb_client::size_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00605.html#a1899982faeae9713e24d25d4fd26a34a">my_n_thread</a></td></tr>
<tr class="memdesc:a1899982faeae9713e24d25d4fd26a34a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum number of threads to be created.  <a href="#a1899982faeae9713e24d25d4fd26a34a">More...</a><br /></td></tr>
<tr class="separator:a1899982faeae9713e24d25d4fd26a34a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16e4dfc8c5e061a1d9889012b9246e3e"><td class="memItemLeft" align="right" valign="top">const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00605.html#a16e4dfc8c5e061a1d9889012b9246e3e">my_stack_size</a></td></tr>
<tr class="memdesc:a16e4dfc8c5e061a1d9889012b9246e3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stack size for each thread. */.  <a href="#a16e4dfc8c5e061a1d9889012b9246e3e">More...</a><br /></td></tr>
<tr class="separator:a16e4dfc8c5e061a1d9889012b9246e3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2bf328b950275f1aa80b33f43021ce1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00079.html">atomic</a>&lt; <a class="el" href="a01016.html#ac89988b817e773286215b17e80359ff3">int</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00605.html#aa2bf328b950275f1aa80b33f43021ce1">my_slack</a></td></tr>
<tr class="memdesc:aa2bf328b950275f1aa80b33f43021ce1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of jobs that could use their associated thread minus number of active threads.  <a href="#aa2bf328b950275f1aa80b33f43021ce1">More...</a><br /></td></tr>
<tr class="separator:aa2bf328b950275f1aa80b33f43021ce1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ae8da3b2b8828316be5be20ad19e92f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00079.html">atomic</a>&lt; <a class="el" href="a01016.html#ac89988b817e773286215b17e80359ff3">int</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00605.html#a9ae8da3b2b8828316be5be20ad19e92f">my_ref_count</a></td></tr>
<tr class="memdesc:a9ae8da3b2b8828316be5be20ad19e92f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counter used to determine when to delete this.  <a href="#a9ae8da3b2b8828316be5be20ad19e92f">More...</a><br /></td></tr>
<tr class="separator:a9ae8da3b2b8828316be5be20ad19e92f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada8ed4bd1a1ded121471fb872b07c71c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00559.html">padded_private_worker</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00605.html#ada8ed4bd1a1ded121471fb872b07c71c">my_thread_array</a></td></tr>
<tr class="separator:ada8ed4bd1a1ded121471fb872b07c71c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9a4e0652fbb72cab569ea784989b65c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00079.html">tbb::atomic</a>&lt; <a class="el" href="a00606.html">private_worker</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00605.html#aa9a4e0652fbb72cab569ea784989b65c">my_asleep_list_root</a></td></tr>
<tr class="memdesc:aa9a4e0652fbb72cab569ea784989b65c"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of workers that are asleep or committed to sleeping until notified by another thread.  <a href="#aa9a4e0652fbb72cab569ea784989b65c">More...</a><br /></td></tr>
<tr class="separator:aa9a4e0652fbb72cab569ea784989b65c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdadfc9229feb5e185139e32348fa0e2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00605.html#a53b661dc82f3484dfaba0cba1917cb6e">asleep_list_mutex_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00605.html#abdadfc9229feb5e185139e32348fa0e2">my_asleep_list_mutex</a></td></tr>
<tr class="separator:abdadfc9229feb5e185139e32348fa0e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:af1df28b1fce17bd3ac403abe94d1f331"><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00605.html#af1df28b1fce17bd3ac403abe94d1f331">private_worker</a></td></tr>
<tr class="separator:af1df28b1fce17bd3ac403abe94d1f331"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="a01050_source.html#l00122">122</a> of file <a class="el" href="a01050_source.html">private_server.cpp</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a53b661dc82f3484dfaba0cba1917cb6e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="a01133.html#a7129c5cff1bad05eaf6c218a04f70456">scheduler_mutex_type</a> <a class="el" href="a00605.html#a53b661dc82f3484dfaba0cba1917cb6e">tbb::internal::rml::private_server::asleep_list_mutex_type</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Protects my_asleep_list_root. </p>

<p>Definition at line <a class="el" href="a01050_source.html#l00148">148</a> of file <a class="el" href="a01050_source.html">private_server.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a3f85635899ef8652d32de0e42fcbd3cd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">tbb::internal::rml::private_server::~private_server </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a01050_source.html#l00343">343</a> of file <a class="el" href="a01050_source.html">private_server.cpp</a>.</p>

<p>References <a class="el" href="a01098.html#a7b58d28a34a1717e2ddb591f00658b10">__TBB_ASSERT</a>, <a class="el" href="a00605.html#a1899982faeae9713e24d25d4fd26a34a">my_n_thread</a>, <a class="el" href="a00605.html#ada8ed4bd1a1ded121471fb872b07c71c">my_thread_array</a>, and <a class="el" href="a01133.html#a58dafd43fac118e984cc4f19f3901609">tbb::internal::poison_pointer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                                {</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <a class="code" href="a01098.html#a7b58d28a34a1717e2ddb591f00658b10">__TBB_ASSERT</a>( my_net_slack_requests==0, NULL );</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=<a class="code" href="a00605.html#a1899982faeae9713e24d25d4fd26a34a">my_n_thread</a>; i--; )</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;        <a class="code" href="a00605.html#ada8ed4bd1a1ded121471fb872b07c71c">my_thread_array</a>[i].~padded_private_worker();</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    <a class="code" href="a00121.html">tbb::cache_aligned_allocator&lt;padded_private_worker&gt;</a>().deallocate( <a class="code" href="a00605.html#ada8ed4bd1a1ded121471fb872b07c71c">my_thread_array</a>, <a class="code" href="a00605.html#a1899982faeae9713e24d25d4fd26a34a">my_n_thread</a> );</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;    <a class="code" href="a01133.html#a58dafd43fac118e984cc4f19f3901609">tbb::internal::poison_pointer</a>( <a class="code" href="a00605.html#ada8ed4bd1a1ded121471fb872b07c71c">my_thread_array</a> );</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;}</div><div class="ttc" id="a00605_html_a1899982faeae9713e24d25d4fd26a34a"><div class="ttname"><a href="a00605.html#a1899982faeae9713e24d25d4fd26a34a">tbb::internal::rml::private_server::my_n_thread</a></div><div class="ttdeci">const tbb_client::size_type my_n_thread</div><div class="ttdoc">Maximum number of threads to be created. </div><div class="ttdef"><b>Definition:</b> <a href="a01050_source.html#l00127">private_server.cpp:127</a></div></div>
<div class="ttc" id="a00121_html"><div class="ttname"><a href="a00121.html">tbb::cache_aligned_allocator</a></div><div class="ttdoc">Meets &quot;allocator&quot; requirements of ISO C++ Standard, Section 20.1.5. </div><div class="ttdef"><b>Definition:</b> <a href="a00972_source.html#l00064">cache_aligned_allocator.h:64</a></div></div>
<div class="ttc" id="a00605_html_ada8ed4bd1a1ded121471fb872b07c71c"><div class="ttname"><a href="a00605.html#ada8ed4bd1a1ded121471fb872b07c71c">tbb::internal::rml::private_server::my_thread_array</a></div><div class="ttdeci">padded_private_worker * my_thread_array</div><div class="ttdef"><b>Definition:</b> <a href="a01050_source.html#l00142">private_server.cpp:142</a></div></div>
<div class="ttc" id="a01133_html_a58dafd43fac118e984cc4f19f3901609"><div class="ttname"><a href="a01133.html#a58dafd43fac118e984cc4f19f3901609">tbb::internal::poison_pointer</a></div><div class="ttdeci">void poison_pointer(T *__TBB_atomic &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="a01098_source.html#l00309">tbb_stddef.h:309</a></div></div>
<div class="ttc" id="a01098_html_a7b58d28a34a1717e2ddb591f00658b10"><div class="ttname"><a href="a01098.html#a7b58d28a34a1717e2ddb591f00658b10">__TBB_ASSERT</a></div><div class="ttdeci">#define __TBB_ASSERT(predicate, comment)</div><div class="ttdoc">No-op version of __TBB_ASSERT. </div><div class="ttdef"><b>Definition:</b> <a href="a01098_source.html#l00169">tbb_stddef.h:169</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="a00605_a3f85635899ef8652d32de0e42fcbd3cd_cgraph.svg" width="362" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a941f2e582957e03d164a9a3c81e77fa2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tbb::internal::rml::private_server::private_server </td>
          <td>(</td>
          <td class="paramtype">tbb_client &amp;&#160;</td>
          <td class="paramname"><em>client</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a01050_source.html#l00323">323</a> of file <a class="el" href="a01050_source.html">private_server.cpp</a>.</p>

<p>References <a class="el" href="a00605.html#aa9a4e0652fbb72cab569ea784989b65c">my_asleep_list_root</a>, <a class="el" href="a00605.html#a1899982faeae9713e24d25d4fd26a34a">my_n_thread</a>, <a class="el" href="a00606.html#a2787631f2924ada895b183cfbee5b72d">tbb::internal::rml::private_worker::my_next</a>, <a class="el" href="a00605.html#a9ae8da3b2b8828316be5be20ad19e92f">my_ref_count</a>, <a class="el" href="a00605.html#aa2bf328b950275f1aa80b33f43021ce1">my_slack</a>, and <a class="el" href="a00605.html#ada8ed4bd1a1ded121471fb872b07c71c">my_thread_array</a>.</p>

<p>Referenced by <a class="el" href="a01138.html#a8ef19f713537ac8030e4de4a1a3fdf26">tbb::internal::rml::make_private_server()</a>.</p>
<div class="fragment"><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                                                   :</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <a class="code" href="a00605.html#afab7ce16d2c4777bc78d3414018cd6c9">my_client</a>(client),</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <a class="code" href="a00605.html#a1899982faeae9713e24d25d4fd26a34a">my_n_thread</a>(client.max_job_count()),</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <a class="code" href="a00605.html#a16e4dfc8c5e061a1d9889012b9246e3e">my_stack_size</a>(client.min_stack_size()),</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <a class="code" href="a00605.html#ada8ed4bd1a1ded121471fb872b07c71c">my_thread_array</a>(NULL)</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;{</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <a class="code" href="a00605.html#a9ae8da3b2b8828316be5be20ad19e92f">my_ref_count</a> = <a class="code" href="a00605.html#a1899982faeae9713e24d25d4fd26a34a">my_n_thread</a>+1;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <a class="code" href="a00605.html#aa2bf328b950275f1aa80b33f43021ce1">my_slack</a> = 0;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="preprocessor">#if TBB_USE_ASSERT</span></div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    my_net_slack_requests = 0;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* TBB_USE_ASSERT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    <a class="code" href="a00605.html#aa9a4e0652fbb72cab569ea784989b65c">my_asleep_list_root</a> = NULL;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <a class="code" href="a00605.html#ada8ed4bd1a1ded121471fb872b07c71c">my_thread_array</a> = <a class="code" href="a00121.html">tbb::cache_aligned_allocator&lt;padded_private_worker&gt;</a>().allocate( <a class="code" href="a00605.html#a1899982faeae9713e24d25d4fd26a34a">my_n_thread</a> );</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="a00605.html#a1899982faeae9713e24d25d4fd26a34a">my_n_thread</a>; ++i ) {</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <a class="code" href="a00605.html#af1df28b1fce17bd3ac403abe94d1f331">private_worker</a>* t = <span class="keyword">new</span>( &amp;<a class="code" href="a00605.html#ada8ed4bd1a1ded121471fb872b07c71c">my_thread_array</a>[i] ) padded_private_worker( *<span class="keyword">this</span>, client, i );</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        t-&gt;my_next = <a class="code" href="a00605.html#aa9a4e0652fbb72cab569ea784989b65c">my_asleep_list_root</a>;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;        <a class="code" href="a00605.html#aa9a4e0652fbb72cab569ea784989b65c">my_asleep_list_root</a> = t;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    }</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;}</div><div class="ttc" id="a00605_html_a1899982faeae9713e24d25d4fd26a34a"><div class="ttname"><a href="a00605.html#a1899982faeae9713e24d25d4fd26a34a">tbb::internal::rml::private_server::my_n_thread</a></div><div class="ttdeci">const tbb_client::size_type my_n_thread</div><div class="ttdoc">Maximum number of threads to be created. </div><div class="ttdef"><b>Definition:</b> <a href="a01050_source.html#l00127">private_server.cpp:127</a></div></div>
<div class="ttc" id="a00121_html"><div class="ttname"><a href="a00121.html">tbb::cache_aligned_allocator</a></div><div class="ttdoc">Meets &quot;allocator&quot; requirements of ISO C++ Standard, Section 20.1.5. </div><div class="ttdef"><b>Definition:</b> <a href="a00972_source.html#l00064">cache_aligned_allocator.h:64</a></div></div>
<div class="ttc" id="a00605_html_aa9a4e0652fbb72cab569ea784989b65c"><div class="ttname"><a href="a00605.html#aa9a4e0652fbb72cab569ea784989b65c">tbb::internal::rml::private_server::my_asleep_list_root</a></div><div class="ttdeci">tbb::atomic&lt; private_worker * &gt; my_asleep_list_root</div><div class="ttdoc">List of workers that are asleep or committed to sleeping until notified by another thread...</div><div class="ttdef"><b>Definition:</b> <a href="a01050_source.html#l00145">private_server.cpp:145</a></div></div>
<div class="ttc" id="a00605_html_a16e4dfc8c5e061a1d9889012b9246e3e"><div class="ttname"><a href="a00605.html#a16e4dfc8c5e061a1d9889012b9246e3e">tbb::internal::rml::private_server::my_stack_size</a></div><div class="ttdeci">const size_t my_stack_size</div><div class="ttdoc">Stack size for each thread. */. </div><div class="ttdef"><b>Definition:</b> <a href="a01050_source.html#l00130">private_server.cpp:130</a></div></div>
<div class="ttc" id="a00605_html_a9ae8da3b2b8828316be5be20ad19e92f"><div class="ttname"><a href="a00605.html#a9ae8da3b2b8828316be5be20ad19e92f">tbb::internal::rml::private_server::my_ref_count</a></div><div class="ttdeci">atomic&lt; int &gt; my_ref_count</div><div class="ttdoc">Counter used to determine when to delete this. </div><div class="ttdef"><b>Definition:</b> <a href="a01050_source.html#l00140">private_server.cpp:140</a></div></div>
<div class="ttc" id="a00605_html_aa2bf328b950275f1aa80b33f43021ce1"><div class="ttname"><a href="a00605.html#aa2bf328b950275f1aa80b33f43021ce1">tbb::internal::rml::private_server::my_slack</a></div><div class="ttdeci">atomic&lt; int &gt; my_slack</div><div class="ttdoc">Number of jobs that could use their associated thread minus number of active threads. </div><div class="ttdef"><b>Definition:</b> <a href="a01050_source.html#l00137">private_server.cpp:137</a></div></div>
<div class="ttc" id="a00605_html_ada8ed4bd1a1ded121471fb872b07c71c"><div class="ttname"><a href="a00605.html#ada8ed4bd1a1ded121471fb872b07c71c">tbb::internal::rml::private_server::my_thread_array</a></div><div class="ttdeci">padded_private_worker * my_thread_array</div><div class="ttdef"><b>Definition:</b> <a href="a01050_source.html#l00142">private_server.cpp:142</a></div></div>
<div class="ttc" id="a00605_html_afab7ce16d2c4777bc78d3414018cd6c9"><div class="ttname"><a href="a00605.html#afab7ce16d2c4777bc78d3414018cd6c9">tbb::internal::rml::private_server::my_client</a></div><div class="ttdeci">tbb_client &amp; my_client</div><div class="ttdef"><b>Definition:</b> <a href="a01050_source.html#l00124">private_server.cpp:124</a></div></div>
<div class="ttc" id="a00605_html_af1df28b1fce17bd3ac403abe94d1f331"><div class="ttname"><a href="a00605.html#af1df28b1fce17bd3ac403abe94d1f331">tbb::internal::rml::private_server::private_worker</a></div><div class="ttdeci">friend class private_worker</div><div class="ttdef"><b>Definition:</b> <a href="a01050_source.html#l00180">private_server.cpp:180</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="a00605_a941f2e582957e03d164a9a3c81e77fa2_icgraph.svg" width="100%" height="497"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aed71f902aab1aef77a016420c586f535"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a> tbb::internal::rml::private_server::adjust_job_count_estimate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a01016.html#ac89988b817e773286215b17e80359ff3">int</a>&#160;</td>
          <td class="paramname"><em>delta</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a01050_source.html#l00403">403</a> of file <a class="el" href="a01050_source.html">private_server.cpp</a>.</p>

<p>References <a class="el" href="a00605.html#aa2bf328b950275f1aa80b33f43021ce1">my_slack</a>, and <a class="el" href="a00605.html#a2be83f895b89b3861ee8ab31535c1f34">wake_some()</a>.</p>
<div class="fragment"><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                                                          {</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;<span class="preprocessor">#if TBB_USE_ASSERT</span></div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    my_net_slack_requests+=delta;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* TBB_USE_ASSERT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="keywordflow">if</span>( delta&lt;0 ) {</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <a class="code" href="a00605.html#aa2bf328b950275f1aa80b33f43021ce1">my_slack</a>+=delta;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( delta&gt;0 ) {</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        <a class="code" href="a00605.html#a2be83f895b89b3861ee8ab31535c1f34">wake_some</a>( delta );</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    }</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;}</div><div class="ttc" id="a00605_html_aa2bf328b950275f1aa80b33f43021ce1"><div class="ttname"><a href="a00605.html#aa2bf328b950275f1aa80b33f43021ce1">tbb::internal::rml::private_server::my_slack</a></div><div class="ttdeci">atomic&lt; int &gt; my_slack</div><div class="ttdoc">Number of jobs that could use their associated thread minus number of active threads. </div><div class="ttdef"><b>Definition:</b> <a href="a01050_source.html#l00137">private_server.cpp:137</a></div></div>
<div class="ttc" id="a00605_html_a2be83f895b89b3861ee8ab31535c1f34"><div class="ttname"><a href="a00605.html#a2be83f895b89b3861ee8ab31535c1f34">tbb::internal::rml::private_server::wake_some</a></div><div class="ttdeci">void wake_some(int additional_slack)</div><div class="ttdoc">Equivalent of adding additional_slack to my_slack and waking up to 2 threads if my_slack permits...</div><div class="ttdef"><b>Definition:</b> <a href="a01050_source.html#l00368">private_server.cpp:368</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="a00605_aed71f902aab1aef77a016420c586f535_cgraph.svg" width="100%" height="555"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a43a468f1aa03ce9be85e4cf0e99e7f17"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned tbb::internal::rml::private_server::default_concurrency </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a01050_source.html#l00198">198</a> of file <a class="el" href="a01050_source.html">private_server.cpp</a>.</p>

<p>References <a class="el" href="a01098.html#a96e63952df71e13e2b1122e612966ef7">__TBB_override</a>, and <a class="el" href="a00307.html#a87ef607c22c347eb97ddafa4384b4f1d">tbb::internal::governor::default_num_threads()</a>.</p>
<div class="fragment"><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="a00307.html#a87ef607c22c347eb97ddafa4384b4f1d">governor::default_num_threads</a>() - 1; }</div><div class="ttc" id="a00307_html_a87ef607c22c347eb97ddafa4384b4f1d"><div class="ttname"><a href="a00307.html#a87ef607c22c347eb97ddafa4384b4f1d">tbb::internal::governor::default_num_threads</a></div><div class="ttdeci">static unsigned default_num_threads()</div><div class="ttdef"><b>Definition:</b> <a href="a01005_source.html#l00085">governor.h:85</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="a00605_a43a468f1aa03ce9be85e4cf0e99e7f17_cgraph.svg" width="567" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2f6777b6edbb4526ea7be59d8278a3fa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a> tbb::internal::rml::private_server::independent_thread_number_changed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a01016.html#ac89988b817e773286215b17e80359ff3">int</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a01050_source.html#l00196">196</a> of file <a class="el" href="a01050_source.html">private_server.cpp</a>.</p>

<p>References <a class="el" href="a01098.html#a7b58d28a34a1717e2ddb591f00658b10">__TBB_ASSERT</a>.</p>
<div class="fragment"><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;{<a class="code" href="a01098.html#a7b58d28a34a1717e2ddb591f00658b10">__TBB_ASSERT</a>(<span class="keyword">false</span>,NULL);}</div><div class="ttc" id="a01098_html_a7b58d28a34a1717e2ddb591f00658b10"><div class="ttname"><a href="a01098.html#a7b58d28a34a1717e2ddb591f00658b10">__TBB_ASSERT</a></div><div class="ttdeci">#define __TBB_ASSERT(predicate, comment)</div><div class="ttdoc">No-op version of __TBB_ASSERT. </div><div class="ttdef"><b>Definition:</b> <a href="a01098_source.html#l00169">tbb_stddef.h:169</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a23bccadb141031d3e12b0c3c99838798"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a> tbb::internal::rml::private_server::propagate_chain_reaction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Wake up to two sleeping workers, if there are any sleeping. </p>
<p>The call is used to propagate a chain reaction where each thread wakes up two threads, which in turn each wake up two threads, etc. </p>

<p>Definition at line <a class="el" href="a01050_source.html#l00158">158</a> of file <a class="el" href="a01050_source.html">private_server.cpp</a>.</p>

<p>Referenced by <a class="el" href="a00606.html#acfcd50e891e9815c7fb5c7422ee62a9f">tbb::internal::rml::private_worker::run()</a>.</p>
<div class="fragment"><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                                    {</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        <span class="comment">// First test of a double-check idiom.  Second test is inside wake_some(0).</span></div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="a00605.html#aa9a4e0652fbb72cab569ea784989b65c">my_asleep_list_root</a> )</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;            <a class="code" href="a00605.html#a2be83f895b89b3861ee8ab31535c1f34">wake_some</a>(0);</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    }</div><div class="ttc" id="a00605_html_aa9a4e0652fbb72cab569ea784989b65c"><div class="ttname"><a href="a00605.html#aa9a4e0652fbb72cab569ea784989b65c">tbb::internal::rml::private_server::my_asleep_list_root</a></div><div class="ttdeci">tbb::atomic&lt; private_worker * &gt; my_asleep_list_root</div><div class="ttdoc">List of workers that are asleep or committed to sleeping until notified by another thread...</div><div class="ttdef"><b>Definition:</b> <a href="a01050_source.html#l00145">private_server.cpp:145</a></div></div>
<div class="ttc" id="a00605_html_a2be83f895b89b3861ee8ab31535c1f34"><div class="ttname"><a href="a00605.html#a2be83f895b89b3861ee8ab31535c1f34">tbb::internal::rml::private_server::wake_some</a></div><div class="ttdeci">void wake_some(int additional_slack)</div><div class="ttdoc">Equivalent of adding additional_slack to my_slack and waking up to 2 threads if my_slack permits...</div><div class="ttdef"><b>Definition:</b> <a href="a01050_source.html#l00368">private_server.cpp:368</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="a00605_a23bccadb141031d3e12b0c3c99838798_icgraph.svg" width="378" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="af8d1c910ec7d64b8fc93b03bdc23ef64"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a> tbb::internal::rml::private_server::remove_server_ref </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a01050_source.html#l00172">172</a> of file <a class="el" href="a01050_source.html">private_server.cpp</a>.</p>

<p>Referenced by <a class="el" href="a00606.html#acfcd50e891e9815c7fb5c7422ee62a9f">tbb::internal::rml::private_worker::run()</a>, and <a class="el" href="a00606.html#a1fc69b65169acd8f06011e21d1892dcd">tbb::internal::rml::private_worker::start_shutdown()</a>.</p>
<div class="fragment"><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                             {</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <span class="keywordflow">if</span>( --<a class="code" href="a00605.html#a9ae8da3b2b8828316be5be20ad19e92f">my_ref_count</a>==0 ) {</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            <a class="code" href="a00605.html#afab7ce16d2c4777bc78d3414018cd6c9">my_client</a>.acknowledge_close_connection();</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            this-&gt;<a class="code" href="a00605.html#a3f85635899ef8652d32de0e42fcbd3cd">~private_server</a>();</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            <a class="code" href="a00121.html">tbb::cache_aligned_allocator&lt;private_server&gt;</a>().deallocate( <span class="keyword">this</span>, 1 );</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        }</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    }</div><div class="ttc" id="a00121_html"><div class="ttname"><a href="a00121.html">tbb::cache_aligned_allocator</a></div><div class="ttdoc">Meets &quot;allocator&quot; requirements of ISO C++ Standard, Section 20.1.5. </div><div class="ttdef"><b>Definition:</b> <a href="a00972_source.html#l00064">cache_aligned_allocator.h:64</a></div></div>
<div class="ttc" id="a00605_html_a9ae8da3b2b8828316be5be20ad19e92f"><div class="ttname"><a href="a00605.html#a9ae8da3b2b8828316be5be20ad19e92f">tbb::internal::rml::private_server::my_ref_count</a></div><div class="ttdeci">atomic&lt; int &gt; my_ref_count</div><div class="ttdoc">Counter used to determine when to delete this. </div><div class="ttdef"><b>Definition:</b> <a href="a01050_source.html#l00140">private_server.cpp:140</a></div></div>
<div class="ttc" id="a00605_html_a3f85635899ef8652d32de0e42fcbd3cd"><div class="ttname"><a href="a00605.html#a3f85635899ef8652d32de0e42fcbd3cd">tbb::internal::rml::private_server::~private_server</a></div><div class="ttdeci">virtual ~private_server()</div><div class="ttdef"><b>Definition:</b> <a href="a01050_source.html#l00343">private_server.cpp:343</a></div></div>
<div class="ttc" id="a00605_html_afab7ce16d2c4777bc78d3414018cd6c9"><div class="ttname"><a href="a00605.html#afab7ce16d2c4777bc78d3414018cd6c9">tbb::internal::rml::private_server::my_client</a></div><div class="ttdeci">tbb_client &amp; my_client</div><div class="ttdef"><b>Definition:</b> <a href="a01050_source.html#l00124">private_server.cpp:124</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="a00605_af8d1c910ec7d64b8fc93b03bdc23ef64_icgraph.svg" width="582" height="132"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa3168e9dc158c52625a69a47ebf840d5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a> tbb::internal::rml::private_server::request_close_connection </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a01050_source.html#l00188">188</a> of file <a class="el" href="a01050_source.html">private_server.cpp</a>.</p>

<p>References <a class="el" href="a00606.html#a1fc69b65169acd8f06011e21d1892dcd">tbb::internal::rml::private_worker::start_shutdown()</a>.</p>
<div class="fragment"><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                                                           {</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <span class="keywordflow">for</span>( <span class="keywordtype">size_t</span> i=0; i&lt;<a class="code" href="a00605.html#a1899982faeae9713e24d25d4fd26a34a">my_n_thread</a>; ++i )</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;            <a class="code" href="a00605.html#ada8ed4bd1a1ded121471fb872b07c71c">my_thread_array</a>[i].start_shutdown();</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <a class="code" href="a00605.html#af8d1c910ec7d64b8fc93b03bdc23ef64">remove_server_ref</a>();</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    }</div><div class="ttc" id="a00605_html_a1899982faeae9713e24d25d4fd26a34a"><div class="ttname"><a href="a00605.html#a1899982faeae9713e24d25d4fd26a34a">tbb::internal::rml::private_server::my_n_thread</a></div><div class="ttdeci">const tbb_client::size_type my_n_thread</div><div class="ttdoc">Maximum number of threads to be created. </div><div class="ttdef"><b>Definition:</b> <a href="a01050_source.html#l00127">private_server.cpp:127</a></div></div>
<div class="ttc" id="a00605_html_af8d1c910ec7d64b8fc93b03bdc23ef64"><div class="ttname"><a href="a00605.html#af8d1c910ec7d64b8fc93b03bdc23ef64">tbb::internal::rml::private_server::remove_server_ref</a></div><div class="ttdeci">void remove_server_ref()</div><div class="ttdef"><b>Definition:</b> <a href="a01050_source.html#l00172">private_server.cpp:172</a></div></div>
<div class="ttc" id="a00605_html_ada8ed4bd1a1ded121471fb872b07c71c"><div class="ttname"><a href="a00605.html#ada8ed4bd1a1ded121471fb872b07c71c">tbb::internal::rml::private_server::my_thread_array</a></div><div class="ttdeci">padded_private_worker * my_thread_array</div><div class="ttdef"><b>Definition:</b> <a href="a01050_source.html#l00142">private_server.cpp:142</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="a00605_aa3168e9dc158c52625a69a47ebf840d5_cgraph.svg" width="596" height="276"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a65bd5075630d2f9cce6f71fc3c922e46"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool tbb::internal::rml::private_server::try_insert_in_asleep_list </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00606.html">private_worker</a> &amp;&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Try to add t to list of sleeping workers. </p>

<p>Definition at line <a class="el" href="a01050_source.html#l00351">351</a> of file <a class="el" href="a01050_source.html">private_server.cpp</a>.</p>

<p>References <a class="el" href="a01016.html#a46e8be2e3aadb2f6ee62e762a36b9243">lock</a>, <a class="el" href="a00605.html#abdadfc9229feb5e185139e32348fa0e2">my_asleep_list_mutex</a>, <a class="el" href="a00605.html#aa9a4e0652fbb72cab569ea784989b65c">my_asleep_list_root</a>, <a class="el" href="a00606.html#a2787631f2924ada895b183cfbee5b72d">tbb::internal::rml::private_worker::my_next</a>, and <a class="el" href="a00605.html#aa2bf328b950275f1aa80b33f43021ce1">my_slack</a>.</p>

<p>Referenced by <a class="el" href="a00606.html#acfcd50e891e9815c7fb5c7422ee62a9f">tbb::internal::rml::private_worker::run()</a>.</p>
<div class="fragment"><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                                                                         {</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    asleep_list_mutex_type::scoped_lock <a class="code" href="a01016.html#a46e8be2e3aadb2f6ee62e762a36b9243">lock</a>;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keywordflow">if</span>( !lock.try_acquire(<a class="code" href="a00605.html#abdadfc9229feb5e185139e32348fa0e2">my_asleep_list_mutex</a>) )</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    <span class="comment">// Contribute to slack under lock so that if another takes that unit of slack,</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="comment">// it sees us sleeping on the list and wakes us up.</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="keywordtype">int</span> k = ++<a class="code" href="a00605.html#aa2bf328b950275f1aa80b33f43021ce1">my_slack</a>;</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="keywordflow">if</span>( k&lt;=0 ) {</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        t.my_next = <a class="code" href="a00605.html#aa9a4e0652fbb72cab569ea784989b65c">my_asleep_list_root</a>;</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        <a class="code" href="a00605.html#aa9a4e0652fbb72cab569ea784989b65c">my_asleep_list_root</a> = &amp;t;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        --<a class="code" href="a00605.html#aa2bf328b950275f1aa80b33f43021ce1">my_slack</a>;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    }</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;}</div><div class="ttc" id="a01016_html_a46e8be2e3aadb2f6ee62e762a36b9243"><div class="ttname"><a href="a01016.html#a46e8be2e3aadb2f6ee62e762a36b9243">lock</a></div><div class="ttdeci">void const char const char int ITT_FORMAT __itt_group_sync x void const char ITT_FORMAT __itt_group_sync s void ITT_FORMAT __itt_group_sync p void ITT_FORMAT p void ITT_FORMAT p no args __itt_suppress_mode_t unsigned int void size_t ITT_FORMAT d void ITT_FORMAT p void ITT_FORMAT p __itt_model_site __itt_model_site_instance ITT_FORMAT p __itt_model_task __itt_model_task_instance ITT_FORMAT p void * lock</div><div class="ttdef"><b>Definition:</b> <a href="a01016_source.html#l00110">ittnotify_static.h:110</a></div></div>
<div class="ttc" id="a00605_html_aa9a4e0652fbb72cab569ea784989b65c"><div class="ttname"><a href="a00605.html#aa9a4e0652fbb72cab569ea784989b65c">tbb::internal::rml::private_server::my_asleep_list_root</a></div><div class="ttdeci">tbb::atomic&lt; private_worker * &gt; my_asleep_list_root</div><div class="ttdoc">List of workers that are asleep or committed to sleeping until notified by another thread...</div><div class="ttdef"><b>Definition:</b> <a href="a01050_source.html#l00145">private_server.cpp:145</a></div></div>
<div class="ttc" id="a00605_html_aa2bf328b950275f1aa80b33f43021ce1"><div class="ttname"><a href="a00605.html#aa2bf328b950275f1aa80b33f43021ce1">tbb::internal::rml::private_server::my_slack</a></div><div class="ttdeci">atomic&lt; int &gt; my_slack</div><div class="ttdoc">Number of jobs that could use their associated thread minus number of active threads. </div><div class="ttdef"><b>Definition:</b> <a href="a01050_source.html#l00137">private_server.cpp:137</a></div></div>
<div class="ttc" id="a00605_html_abdadfc9229feb5e185139e32348fa0e2"><div class="ttname"><a href="a00605.html#abdadfc9229feb5e185139e32348fa0e2">tbb::internal::rml::private_server::my_asleep_list_mutex</a></div><div class="ttdeci">asleep_list_mutex_type my_asleep_list_mutex</div><div class="ttdef"><b>Definition:</b> <a href="a01050_source.html#l00149">private_server.cpp:149</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="a00605_a65bd5075630d2f9cce6f71fc3c922e46_icgraph.svg" width="347" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0eb1efa6f4ec7fc6f21bf729b80690be"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">version_type tbb::internal::rml::private_server::version </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a01050_source.html#l00184">184</a> of file <a class="el" href="a01050_source.html">private_server.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                                                {</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    }</div></div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2be83f895b89b3861ee8ab31535c1f34"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a> tbb::internal::rml::private_server::wake_some </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a01016.html#ac89988b817e773286215b17e80359ff3">int</a>&#160;</td>
          <td class="paramname"><em>additional_slack</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Equivalent of adding additional_slack to my_slack and waking up to 2 threads if my_slack permits. </p>

<p>Definition at line <a class="el" href="a01050_source.html#l00368">368</a> of file <a class="el" href="a01050_source.html">private_server.cpp</a>.</p>

<p>References <a class="el" href="a01098.html#a7b58d28a34a1717e2ddb591f00658b10">__TBB_ASSERT</a>, <a class="el" href="a00083.html#a4bb94f1a0d9cc00c5abb6fb3b110b2fc">tbb::internal::atomic_impl&lt; T &gt;::compare_and_swap()</a>, <a class="el" href="a01016.html#a46e8be2e3aadb2f6ee62e762a36b9243">lock</a>, <a class="el" href="a00605.html#abdadfc9229feb5e185139e32348fa0e2">my_asleep_list_mutex</a>, <a class="el" href="a00605.html#aa9a4e0652fbb72cab569ea784989b65c">my_asleep_list_root</a>, <a class="el" href="a00606.html#a2787631f2924ada895b183cfbee5b72d">tbb::internal::rml::private_worker::my_next</a>, <a class="el" href="a00605.html#aa2bf328b950275f1aa80b33f43021ce1">my_slack</a>, and <a class="el" href="a00606.html#aafc770ff14751ed4dd2c3f3b1d030156">tbb::internal::rml::private_worker::wake_or_launch()</a>.</p>

<p>Referenced by <a class="el" href="a00605.html#aed71f902aab1aef77a016420c586f535">adjust_job_count_estimate()</a>.</p>
<div class="fragment"><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;                                                     {</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <a class="code" href="a01098.html#a7b58d28a34a1717e2ddb591f00658b10">__TBB_ASSERT</a>( additional_slack&gt;=0, NULL );</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <a class="code" href="a00605.html#af1df28b1fce17bd3ac403abe94d1f331">private_worker</a>* wakee[2];</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <a class="code" href="a00605.html#af1df28b1fce17bd3ac403abe94d1f331">private_worker</a>**w = wakee;</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    {</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        asleep_list_mutex_type::scoped_lock <a class="code" href="a01016.html#a46e8be2e3aadb2f6ee62e762a36b9243">lock</a>(<a class="code" href="a00605.html#abdadfc9229feb5e185139e32348fa0e2">my_asleep_list_mutex</a>);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        <span class="keywordflow">while</span>( <a class="code" href="a00605.html#aa9a4e0652fbb72cab569ea784989b65c">my_asleep_list_root</a> &amp;&amp; w&lt;wakee+2 ) {</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;            <span class="keywordflow">if</span>( additional_slack&gt;0 ) {</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;                <span class="keywordflow">if</span> (additional_slack+<a class="code" href="a00605.html#aa2bf328b950275f1aa80b33f43021ce1">my_slack</a>&lt;=0) <span class="comment">// additional demand does not exceed surplus supply</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                --additional_slack;</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;            } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                <span class="comment">// Chain reaction; Try to claim unit of slack</span></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;                <span class="keywordtype">int</span> old;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                <span class="keywordflow">do</span> {</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;                    old = <a class="code" href="a00605.html#aa2bf328b950275f1aa80b33f43021ce1">my_slack</a>;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;                    <span class="keywordflow">if</span>( old&lt;=0 ) <span class="keywordflow">goto</span> done;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                } <span class="keywordflow">while</span>( <a class="code" href="a00605.html#aa2bf328b950275f1aa80b33f43021ce1">my_slack</a>.<a class="code" href="a00083.html#a4bb94f1a0d9cc00c5abb6fb3b110b2fc">compare_and_swap</a>(old-1,old)!=old );</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;            }</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            <span class="comment">// Pop sleeping worker to combine with claimed unit of slack</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;            <a class="code" href="a00605.html#aa9a4e0652fbb72cab569ea784989b65c">my_asleep_list_root</a> = (*w++ = <a class="code" href="a00605.html#aa9a4e0652fbb72cab569ea784989b65c">my_asleep_list_root</a>)-&gt;my_next;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        }</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <span class="keywordflow">if</span>( additional_slack ) {</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;            <span class="comment">// Contribute our unused slack to my_slack.</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            <a class="code" href="a00605.html#aa2bf328b950275f1aa80b33f43021ce1">my_slack</a> += additional_slack;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        }</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    }</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;done:</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="keywordflow">while</span>( w&gt;wakee ) {</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <a class="code" href="a00605.html#af1df28b1fce17bd3ac403abe94d1f331">private_worker</a>* ww = *--w;</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;        ww-&gt;my_next = NULL;</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        ww-&gt;wake_or_launch();</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    }</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;}</div><div class="ttc" id="a01016_html_a46e8be2e3aadb2f6ee62e762a36b9243"><div class="ttname"><a href="a01016.html#a46e8be2e3aadb2f6ee62e762a36b9243">lock</a></div><div class="ttdeci">void const char const char int ITT_FORMAT __itt_group_sync x void const char ITT_FORMAT __itt_group_sync s void ITT_FORMAT __itt_group_sync p void ITT_FORMAT p void ITT_FORMAT p no args __itt_suppress_mode_t unsigned int void size_t ITT_FORMAT d void ITT_FORMAT p void ITT_FORMAT p __itt_model_site __itt_model_site_instance ITT_FORMAT p __itt_model_task __itt_model_task_instance ITT_FORMAT p void * lock</div><div class="ttdef"><b>Definition:</b> <a href="a01016_source.html#l00110">ittnotify_static.h:110</a></div></div>
<div class="ttc" id="a00605_html_aa9a4e0652fbb72cab569ea784989b65c"><div class="ttname"><a href="a00605.html#aa9a4e0652fbb72cab569ea784989b65c">tbb::internal::rml::private_server::my_asleep_list_root</a></div><div class="ttdeci">tbb::atomic&lt; private_worker * &gt; my_asleep_list_root</div><div class="ttdoc">List of workers that are asleep or committed to sleeping until notified by another thread...</div><div class="ttdef"><b>Definition:</b> <a href="a01050_source.html#l00145">private_server.cpp:145</a></div></div>
<div class="ttc" id="a00605_html_aa2bf328b950275f1aa80b33f43021ce1"><div class="ttname"><a href="a00605.html#aa2bf328b950275f1aa80b33f43021ce1">tbb::internal::rml::private_server::my_slack</a></div><div class="ttdeci">atomic&lt; int &gt; my_slack</div><div class="ttdoc">Number of jobs that could use their associated thread minus number of active threads. </div><div class="ttdef"><b>Definition:</b> <a href="a01050_source.html#l00137">private_server.cpp:137</a></div></div>
<div class="ttc" id="a01098_html_a7b58d28a34a1717e2ddb591f00658b10"><div class="ttname"><a href="a01098.html#a7b58d28a34a1717e2ddb591f00658b10">__TBB_ASSERT</a></div><div class="ttdeci">#define __TBB_ASSERT(predicate, comment)</div><div class="ttdoc">No-op version of __TBB_ASSERT. </div><div class="ttdef"><b>Definition:</b> <a href="a01098_source.html#l00169">tbb_stddef.h:169</a></div></div>
<div class="ttc" id="a00083_html_a4bb94f1a0d9cc00c5abb6fb3b110b2fc"><div class="ttname"><a href="a00083.html#a4bb94f1a0d9cc00c5abb6fb3b110b2fc">tbb::internal::atomic_impl::compare_and_swap</a></div><div class="ttdeci">value_type compare_and_swap(value_type value, value_type comparand)</div><div class="ttdef"><b>Definition:</b> <a href="a00965_source.html#l00289">atomic.h:289</a></div></div>
<div class="ttc" id="a00605_html_abdadfc9229feb5e185139e32348fa0e2"><div class="ttname"><a href="a00605.html#abdadfc9229feb5e185139e32348fa0e2">tbb::internal::rml::private_server::my_asleep_list_mutex</a></div><div class="ttdeci">asleep_list_mutex_type my_asleep_list_mutex</div><div class="ttdef"><b>Definition:</b> <a href="a01050_source.html#l00149">private_server.cpp:149</a></div></div>
<div class="ttc" id="a00605_html_af1df28b1fce17bd3ac403abe94d1f331"><div class="ttname"><a href="a00605.html#af1df28b1fce17bd3ac403abe94d1f331">tbb::internal::rml::private_server::private_worker</a></div><div class="ttdeci">friend class private_worker</div><div class="ttdef"><b>Definition:</b> <a href="a01050_source.html#l00180">private_server.cpp:180</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="a00605_a2be83f895b89b3861ee8ab31535c1f34_cgraph.svg" width="650" height="340"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="a00605_a2be83f895b89b3861ee8ab31535c1f34_icgraph.svg" width="404" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3417aa3f61a3ba3d6fed88b0e5a9b040"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a> tbb::internal::rml::private_server::yield </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a01050_source.html#l00194">194</a> of file <a class="el" href="a01050_source.html">private_server.cpp</a>.</p>

<p>References <a class="el" href="a01006.html#a2b17e6e4504bddf60a920f609fc46ea6">__TBB_Yield</a>.</p>
<div class="fragment"><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;{<a class="code" href="a01006.html#a2b17e6e4504bddf60a920f609fc46ea6">__TBB_Yield</a>();}</div><div class="ttc" id="a01006_html_a2b17e6e4504bddf60a920f609fc46ea6"><div class="ttname"><a href="a01006.html#a2b17e6e4504bddf60a920f609fc46ea6">__TBB_Yield</a></div><div class="ttdeci">#define __TBB_Yield()</div><div class="ttdef"><b>Definition:</b> <a href="a01006_source.html#l00048">ibm_aix51.h:48</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="af1df28b1fce17bd3ac403abe94d1f331"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="a00606.html">private_worker</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a01050_source.html#l00180">180</a> of file <a class="el" href="a01050_source.html">private_server.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="abdadfc9229feb5e185139e32348fa0e2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00605.html#a53b661dc82f3484dfaba0cba1917cb6e">asleep_list_mutex_type</a> tbb::internal::rml::private_server::my_asleep_list_mutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a01050_source.html#l00149">149</a> of file <a class="el" href="a01050_source.html">private_server.cpp</a>.</p>

<p>Referenced by <a class="el" href="a00605.html#a65bd5075630d2f9cce6f71fc3c922e46">try_insert_in_asleep_list()</a>, and <a class="el" href="a00605.html#a2be83f895b89b3861ee8ab31535c1f34">wake_some()</a>.</p>

</div>
</div>
<a class="anchor" id="aa9a4e0652fbb72cab569ea784989b65c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00079.html">tbb::atomic</a>&lt;<a class="el" href="a00606.html">private_worker</a>*&gt; tbb::internal::rml::private_server::my_asleep_list_root</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>List of workers that are asleep or committed to sleeping until notified by another thread. </p>

<p>Definition at line <a class="el" href="a01050_source.html#l00145">145</a> of file <a class="el" href="a01050_source.html">private_server.cpp</a>.</p>

<p>Referenced by <a class="el" href="a00605.html#a941f2e582957e03d164a9a3c81e77fa2">private_server()</a>, <a class="el" href="a00605.html#a65bd5075630d2f9cce6f71fc3c922e46">try_insert_in_asleep_list()</a>, and <a class="el" href="a00605.html#a2be83f895b89b3861ee8ab31535c1f34">wake_some()</a>.</p>

</div>
</div>
<a class="anchor" id="afab7ce16d2c4777bc78d3414018cd6c9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">tbb_client&amp; tbb::internal::rml::private_server::my_client</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a01050_source.html#l00124">124</a> of file <a class="el" href="a01050_source.html">private_server.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a1899982faeae9713e24d25d4fd26a34a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const tbb_client::size_type tbb::internal::rml::private_server::my_n_thread</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Maximum number of threads to be created. </p>
<p>Threads are created lazily, so maximum might not actually be reached. </p>

<p>Definition at line <a class="el" href="a01050_source.html#l00127">127</a> of file <a class="el" href="a01050_source.html">private_server.cpp</a>.</p>

<p>Referenced by <a class="el" href="a00605.html#a941f2e582957e03d164a9a3c81e77fa2">private_server()</a>, and <a class="el" href="a00605.html#a3f85635899ef8652d32de0e42fcbd3cd">~private_server()</a>.</p>

</div>
</div>
<a class="anchor" id="a9ae8da3b2b8828316be5be20ad19e92f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00079.html">atomic</a>&lt;<a class="el" href="a01016.html#ac89988b817e773286215b17e80359ff3">int</a>&gt; tbb::internal::rml::private_server::my_ref_count</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Counter used to determine when to delete this. </p>

<p>Definition at line <a class="el" href="a01050_source.html#l00140">140</a> of file <a class="el" href="a01050_source.html">private_server.cpp</a>.</p>

<p>Referenced by <a class="el" href="a00605.html#a941f2e582957e03d164a9a3c81e77fa2">private_server()</a>.</p>

</div>
</div>
<a class="anchor" id="aa2bf328b950275f1aa80b33f43021ce1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00079.html">atomic</a>&lt;<a class="el" href="a01016.html#ac89988b817e773286215b17e80359ff3">int</a>&gt; tbb::internal::rml::private_server::my_slack</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of jobs that could use their associated thread minus number of active threads. </p>
<p>If negative, indicates oversubscription. If positive, indicates that more threads should run. Can be lowered asynchronously, but must be raised only while holding my_asleep_list_mutex, because raising it impacts the invariant for sleeping threads. </p>

<p>Definition at line <a class="el" href="a01050_source.html#l00137">137</a> of file <a class="el" href="a01050_source.html">private_server.cpp</a>.</p>

<p>Referenced by <a class="el" href="a00605.html#aed71f902aab1aef77a016420c586f535">adjust_job_count_estimate()</a>, <a class="el" href="a00605.html#a941f2e582957e03d164a9a3c81e77fa2">private_server()</a>, <a class="el" href="a00606.html#acfcd50e891e9815c7fb5c7422ee62a9f">tbb::internal::rml::private_worker::run()</a>, <a class="el" href="a00605.html#a65bd5075630d2f9cce6f71fc3c922e46">try_insert_in_asleep_list()</a>, and <a class="el" href="a00605.html#a2be83f895b89b3861ee8ab31535c1f34">wake_some()</a>.</p>

</div>
</div>
<a class="anchor" id="a16e4dfc8c5e061a1d9889012b9246e3e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const size_t tbb::internal::rml::private_server::my_stack_size</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stack size for each thread. */. </p>

<p>Definition at line <a class="el" href="a01050_source.html#l00130">130</a> of file <a class="el" href="a01050_source.html">private_server.cpp</a>.</p>

<p>Referenced by <a class="el" href="a00606.html#aafc770ff14751ed4dd2c3f3b1d030156">tbb::internal::rml::private_worker::wake_or_launch()</a>.</p>

</div>
</div>
<a class="anchor" id="ada8ed4bd1a1ded121471fb872b07c71c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00559.html">padded_private_worker</a>* tbb::internal::rml::private_server::my_thread_array</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a01050_source.html#l00142">142</a> of file <a class="el" href="a01050_source.html">private_server.cpp</a>.</p>

<p>Referenced by <a class="el" href="a00605.html#a941f2e582957e03d164a9a3c81e77fa2">private_server()</a>, and <a class="el" href="a00605.html#a3f85635899ef8652d32de0e42fcbd3cd">~private_server()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="a01050_source.html">private_server.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p></p>
Copyright &copy; 2005-2019 Intel Corporation.  All Rights Reserved.
<p></p>
Intel, Pentium, Intel Xeon, Itanium, Intel XScale and VTune are
registered trademarks or trademarks of Intel Corporation or its
subsidiaries in the United States and other countries.
<p></p>
* Other names and brands may be claimed as the property of others.
