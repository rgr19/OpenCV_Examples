<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Intel(R) Threading Building Blocks Doxygen Documentation: tbb::spin_rw_mutex_v3 Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Intel(R) Threading Building Blocks Doxygen Documentation
   &#160;<span id="projectnumber">version 4.2.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a00722.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-types">Protected Types</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="a02030.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">tbb::spin_rw_mutex_v3 Class Reference<div class="ingroups"><a class="el" href="a01148.html">Synchronization</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Fast, unfair, spinning reader-writer lock with backoff and writer-preference.  
 <a href="a00722.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="a01070_source.html">spin_rw_mutex.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for tbb::spin_rw_mutex_v3:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="a02031.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<div class="dynheader">
Collaboration diagram for tbb::spin_rw_mutex_v3:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="a02032.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00690.html">scoped_lock</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The scoped locking pattern.  <a href="a00690.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad30fc1ffa0a2b8134e177e02c5821d7f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00722.html#ad30fc1ffa0a2b8134e177e02c5821d7f">spin_rw_mutex_v3</a> ()</td></tr>
<tr class="memdesc:ad30fc1ffa0a2b8134e177e02c5821d7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct unacquired mutex.  <a href="#ad30fc1ffa0a2b8134e177e02c5821d7f">More...</a><br /></td></tr>
<tr class="separator:ad30fc1ffa0a2b8134e177e02c5821d7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51e207646300a4c242bb4aaa4e04e9b8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00722.html#a51e207646300a4c242bb4aaa4e04e9b8">lock</a> ()</td></tr>
<tr class="memdesc:a51e207646300a4c242bb4aaa4e04e9b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acquire writer lock.  <a href="#a51e207646300a4c242bb4aaa4e04e9b8">More...</a><br /></td></tr>
<tr class="separator:a51e207646300a4c242bb4aaa4e04e9b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6ec20b1ec43a49c8c2908984e35b5e8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00722.html#ab6ec20b1ec43a49c8c2908984e35b5e8">try_lock</a> ()</td></tr>
<tr class="memdesc:ab6ec20b1ec43a49c8c2908984e35b5e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try acquiring writer lock (non-blocking)  <a href="#ab6ec20b1ec43a49c8c2908984e35b5e8">More...</a><br /></td></tr>
<tr class="separator:ab6ec20b1ec43a49c8c2908984e35b5e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab04321ed2cdf12ac5825c54591028fc0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00722.html#ab04321ed2cdf12ac5825c54591028fc0">unlock</a> ()</td></tr>
<tr class="memdesc:ab04321ed2cdf12ac5825c54591028fc0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release lock.  <a href="#ab04321ed2cdf12ac5825c54591028fc0">More...</a><br /></td></tr>
<tr class="separator:ab04321ed2cdf12ac5825c54591028fc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0e3bb644e9021d0f80ee36b03f228e4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00722.html#aa0e3bb644e9021d0f80ee36b03f228e4">lock_read</a> ()</td></tr>
<tr class="memdesc:aa0e3bb644e9021d0f80ee36b03f228e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Acquire reader lock.  <a href="#aa0e3bb644e9021d0f80ee36b03f228e4">More...</a><br /></td></tr>
<tr class="separator:aa0e3bb644e9021d0f80ee36b03f228e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac932f65b0b66320688e7957ce9c3e2c1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00722.html#ac932f65b0b66320688e7957ce9c3e2c1">try_lock_read</a> ()</td></tr>
<tr class="memdesc:ac932f65b0b66320688e7957ce9c3e2c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try acquiring reader lock (non-blocking)  <a href="#ac932f65b0b66320688e7957ce9c3e2c1">More...</a><br /></td></tr>
<tr class="separator:ac932f65b0b66320688e7957ce9c3e2c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:addc8223faacc1bb2cc8626b609ab2c49"><td class="memItemLeft" align="right" valign="top">static const bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00722.html#addc8223faacc1bb2cc8626b609ab2c49">is_rw_mutex</a> = true</td></tr>
<tr class="separator:addc8223faacc1bb2cc8626b609ab2c49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f6aa8fe3e9c7c4ee4cdec6d221ffe45"><td class="memItemLeft" align="right" valign="top">static const bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00722.html#a7f6aa8fe3e9c7c4ee4cdec6d221ffe45">is_recursive_mutex</a> = false</td></tr>
<tr class="separator:a7f6aa8fe3e9c7c4ee4cdec6d221ffe45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affd403f6e3822589e985a2c23505fbd1"><td class="memItemLeft" align="right" valign="top">static const bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00722.html#affd403f6e3822589e985a2c23505fbd1">is_fair_mutex</a> = false</td></tr>
<tr class="separator:affd403f6e3822589e985a2c23505fbd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-types"></a>
Protected Types</h2></td></tr>
<tr class="memitem:a27adc7d791dfaa4a60638313b9d1c1f4"><td class="memItemLeft" align="right" valign="top">typedef intptr_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00722.html#a27adc7d791dfaa4a60638313b9d1c1f4">state_t</a></td></tr>
<tr class="separator:a27adc7d791dfaa4a60638313b9d1c1f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:aa28625051072472ccd8a2b19405d6fb3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a00722.html#a27adc7d791dfaa4a60638313b9d1c1f4">state_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">state</a></td></tr>
<tr class="memdesc:aa28625051072472ccd8a2b19405d6fb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">State of lock.  <a href="#aa28625051072472ccd8a2b19405d6fb3">More...</a><br /></td></tr>
<tr class="separator:aa28625051072472ccd8a2b19405d6fb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:aaeec59dde09fe92be196ecddb480777b"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="a00722.html#a27adc7d791dfaa4a60638313b9d1c1f4">state_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00722.html#aaeec59dde09fe92be196ecddb480777b">WRITER</a> = 1</td></tr>
<tr class="separator:aaeec59dde09fe92be196ecddb480777b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b321914828e5e21baf24d58f32c66d5"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="a00722.html#a27adc7d791dfaa4a60638313b9d1c1f4">state_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00722.html#a5b321914828e5e21baf24d58f32c66d5">WRITER_PENDING</a> = 2</td></tr>
<tr class="separator:a5b321914828e5e21baf24d58f32c66d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cc93cdcf4ad43f6bf8b0f76cde66f9e"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="a00722.html#a27adc7d791dfaa4a60638313b9d1c1f4">state_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00722.html#a6cc93cdcf4ad43f6bf8b0f76cde66f9e">READERS</a> = ~(<a class="el" href="a00722.html#aaeec59dde09fe92be196ecddb480777b">WRITER</a> | <a class="el" href="a00722.html#a5b321914828e5e21baf24d58f32c66d5">WRITER_PENDING</a>)</td></tr>
<tr class="separator:a6cc93cdcf4ad43f6bf8b0f76cde66f9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1386a2fa5979432e4a58b94e68db23f"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="a00722.html#a27adc7d791dfaa4a60638313b9d1c1f4">state_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00722.html#af1386a2fa5979432e4a58b94e68db23f">ONE_READER</a> = 4</td></tr>
<tr class="separator:af1386a2fa5979432e4a58b94e68db23f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a811c72bd7e5ad6a3a9161ee05e298c"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="a00722.html#a27adc7d791dfaa4a60638313b9d1c1f4">state_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00722.html#a6a811c72bd7e5ad6a3a9161ee05e298c">BUSY</a> = <a class="el" href="a00722.html#aaeec59dde09fe92be196ecddb480777b">WRITER</a> | <a class="el" href="a00722.html#a6cc93cdcf4ad43f6bf8b0f76cde66f9e">READERS</a></td></tr>
<tr class="separator:a6a811c72bd7e5ad6a3a9161ee05e298c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a467101edd40480cbc14a2d91ff812108"><td class="memItemLeft" align="right" valign="top">bool <a class="el" href="a01098.html#a7a1df7e6f83415a1624716541dc4b741">__TBB_EXPORTED_METHOD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00722.html#a467101edd40480cbc14a2d91ff812108">internal_acquire_writer</a> ()</td></tr>
<tr class="memdesc:a467101edd40480cbc14a2d91ff812108"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal acquire write lock.  <a href="#a467101edd40480cbc14a2d91ff812108">More...</a><br /></td></tr>
<tr class="separator:a467101edd40480cbc14a2d91ff812108"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbb7d21e6b8ffbb380ddda0b4a43323d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a> <a class="el" href="a01098.html#a7a1df7e6f83415a1624716541dc4b741">__TBB_EXPORTED_METHOD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00722.html#adbb7d21e6b8ffbb380ddda0b4a43323d">internal_release_writer</a> ()</td></tr>
<tr class="memdesc:adbb7d21e6b8ffbb380ddda0b4a43323d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Out of line code for releasing a write lock.  <a href="#adbb7d21e6b8ffbb380ddda0b4a43323d">More...</a><br /></td></tr>
<tr class="separator:adbb7d21e6b8ffbb380ddda0b4a43323d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac400c48db94b1f000a7d3cd06f9e9b7a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a> <a class="el" href="a01098.html#a7a1df7e6f83415a1624716541dc4b741">__TBB_EXPORTED_METHOD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00722.html#ac400c48db94b1f000a7d3cd06f9e9b7a">internal_acquire_reader</a> ()</td></tr>
<tr class="memdesc:ac400c48db94b1f000a7d3cd06f9e9b7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal acquire read lock.  <a href="#ac400c48db94b1f000a7d3cd06f9e9b7a">More...</a><br /></td></tr>
<tr class="separator:ac400c48db94b1f000a7d3cd06f9e9b7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe7bd52786921ba0f923444c91232b08"><td class="memItemLeft" align="right" valign="top">bool <a class="el" href="a01098.html#a7a1df7e6f83415a1624716541dc4b741">__TBB_EXPORTED_METHOD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00722.html#abe7bd52786921ba0f923444c91232b08">internal_upgrade</a> ()</td></tr>
<tr class="memdesc:abe7bd52786921ba0f923444c91232b08"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal upgrade reader to become a writer.  <a href="#abe7bd52786921ba0f923444c91232b08">More...</a><br /></td></tr>
<tr class="separator:abe7bd52786921ba0f923444c91232b08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cf51efa83b6c563ba3472634e37bac8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a> <a class="el" href="a01098.html#a7a1df7e6f83415a1624716541dc4b741">__TBB_EXPORTED_METHOD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00722.html#a8cf51efa83b6c563ba3472634e37bac8">internal_downgrade</a> ()</td></tr>
<tr class="memdesc:a8cf51efa83b6c563ba3472634e37bac8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Out of line code for downgrading a writer to a reader.  <a href="#a8cf51efa83b6c563ba3472634e37bac8">More...</a><br /></td></tr>
<tr class="separator:a8cf51efa83b6c563ba3472634e37bac8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab11616f92185e70c8c1b2786d0a2056c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a> <a class="el" href="a01098.html#a7a1df7e6f83415a1624716541dc4b741">__TBB_EXPORTED_METHOD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00722.html#ab11616f92185e70c8c1b2786d0a2056c">internal_release_reader</a> ()</td></tr>
<tr class="memdesc:ab11616f92185e70c8c1b2786d0a2056c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal release read lock.  <a href="#ab11616f92185e70c8c1b2786d0a2056c">More...</a><br /></td></tr>
<tr class="separator:ab11616f92185e70c8c1b2786d0a2056c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ff4605d198a16900922eea80f5aac28"><td class="memItemLeft" align="right" valign="top">bool <a class="el" href="a01098.html#a7a1df7e6f83415a1624716541dc4b741">__TBB_EXPORTED_METHOD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00722.html#a4ff4605d198a16900922eea80f5aac28">internal_try_acquire_writer</a> ()</td></tr>
<tr class="memdesc:a4ff4605d198a16900922eea80f5aac28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal try_acquire write lock.  <a href="#a4ff4605d198a16900922eea80f5aac28">More...</a><br /></td></tr>
<tr class="separator:a4ff4605d198a16900922eea80f5aac28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7aaa7f4438fc731ab5fc1dd3ee77dce4"><td class="memItemLeft" align="right" valign="top">bool <a class="el" href="a01098.html#a7a1df7e6f83415a1624716541dc4b741">__TBB_EXPORTED_METHOD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00722.html#a7aaa7f4438fc731ab5fc1dd3ee77dce4">internal_try_acquire_reader</a> ()</td></tr>
<tr class="memdesc:a7aaa7f4438fc731ab5fc1dd3ee77dce4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal try_acquire read lock.  <a href="#a7aaa7f4438fc731ab5fc1dd3ee77dce4">More...</a><br /></td></tr>
<tr class="separator:a7aaa7f4438fc731ab5fc1dd3ee77dce4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a891c161e88a6af22d3911a25adedae7f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a> <a class="el" href="a01098.html#a7a1df7e6f83415a1624716541dc4b741">__TBB_EXPORTED_METHOD</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00722.html#a891c161e88a6af22d3911a25adedae7f">internal_construct</a> ()</td></tr>
<tr class="separator:a891c161e88a6af22d3911a25adedae7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Fast, unfair, spinning reader-writer lock with backoff and writer-preference. </p>

<p>Definition at line <a class="el" href="a01070_source.html#l00042">42</a> of file <a class="el" href="a01070_source.html">spin_rw_mutex.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a27adc7d791dfaa4a60638313b9d1c1f4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef intptr_t <a class="el" href="a00722.html#a27adc7d791dfaa4a60638313b9d1c1f4">tbb::spin_rw_mutex_v3::state_t</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a01070_source.html#l00211">211</a> of file <a class="el" href="a01070_source.html">spin_rw_mutex.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ad30fc1ffa0a2b8134e177e02c5821d7f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">tbb::spin_rw_mutex_v3::spin_rw_mutex_v3 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct unacquired mutex. </p>

<p>Definition at line <a class="el" href="a01070_source.html#l00074">74</a> of file <a class="el" href="a01070_source.html">spin_rw_mutex.h</a>.</p>

<p>References <a class="el" href="a01098.html#a7b58d28a34a1717e2ddb591f00658b10">__TBB_ASSERT</a>.</p>
<div class="fragment"><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                       : <a class="code" href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">state</a>(0) {</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="preprocessor">#if TBB_USE_THREADING_TOOLS</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <a class="code" href="a00722.html#a891c161e88a6af22d3911a25adedae7f">internal_construct</a>();</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    }</div><div class="ttc" id="a00722_html_aa28625051072472ccd8a2b19405d6fb3"><div class="ttname"><a href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">tbb::spin_rw_mutex_v3::state</a></div><div class="ttdeci">state_t state</div><div class="ttdoc">State of lock. </div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00221">spin_rw_mutex.h:221</a></div></div>
<div class="ttc" id="a00722_html_a891c161e88a6af22d3911a25adedae7f"><div class="ttname"><a href="a00722.html#a891c161e88a6af22d3911a25adedae7f">tbb::spin_rw_mutex_v3::internal_construct</a></div><div class="ttdeci">void __TBB_EXPORTED_METHOD internal_construct()</div><div class="ttdef"><b>Definition:</b> <a href="a01069_source.html#l00156">spin_rw_mutex.cpp:156</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ac400c48db94b1f000a7d3cd06f9e9b7a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a> tbb::spin_rw_mutex_v3::internal_acquire_reader </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Internal acquire read lock. </p>
<p>Acquire read lock on given mutex. </p>

<p>Definition at line <a class="el" href="a01069_source.html#l00066">66</a> of file <a class="el" href="a01069_source.html">spin_rw_mutex.cpp</a>.</p>

<p>References <a class="el" href="a01098.html#a7b58d28a34a1717e2ddb591f00658b10">__TBB_ASSERT</a>, <a class="el" href="a01011.html#adf75d9635323cc786c012fe69ceef418">ITT_NOTIFY</a>, <a class="el" href="a00722.html#af1386a2fa5979432e4a58b94e68db23f">ONE_READER</a>, <a class="el" href="a00722.html#a6cc93cdcf4ad43f6bf8b0f76cde66f9e">READERS</a>, <a class="el" href="a01016.html#a571c9802609300b38fd3d5ac52b1773c">s</a>, <a class="el" href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">state</a>, <a class="el" href="a00722.html#aaeec59dde09fe92be196ecddb480777b">WRITER</a>, and <a class="el" href="a00722.html#a5b321914828e5e21baf24d58f32c66d5">WRITER_PENDING</a>.</p>
<div class="fragment"><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;{</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <a class="code" href="a01011.html#adf75d9635323cc786c012fe69ceef418">ITT_NOTIFY</a>(sync_prepare, <span class="keyword">this</span>);</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">for</span>( internal::atomic_backoff b;;b.pause() ){</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <a class="code" href="a00722.html#a27adc7d791dfaa4a60638313b9d1c1f4">state_t</a> <a class="code" href="a01016.html#a571c9802609300b38fd3d5ac52b1773c">s</a> = <span class="keyword">const_cast&lt;</span><span class="keyword">volatile </span><a class="code" href="a00722.html#a27adc7d791dfaa4a60638313b9d1c1f4">state_t</a>&amp;<span class="keyword">&gt;</span>(<a class="code" href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">state</a>); <span class="comment">// ensure reloading</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <span class="keywordflow">if</span>( !(s &amp; (<a class="code" href="a00722.html#aaeec59dde09fe92be196ecddb480777b">WRITER</a>|<a class="code" href="a00722.html#a5b321914828e5e21baf24d58f32c66d5">WRITER_PENDING</a>)) ) { <span class="comment">// no writer or write requests</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            <a class="code" href="a00722.html#a27adc7d791dfaa4a60638313b9d1c1f4">state_t</a> t = (<a class="code" href="a00722.html#a27adc7d791dfaa4a60638313b9d1c1f4">state_t</a>)__TBB_FetchAndAddW( &amp;<a class="code" href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">state</a>, (intptr_t) <a class="code" href="a00722.html#af1386a2fa5979432e4a58b94e68db23f">ONE_READER</a> );</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            <span class="keywordflow">if</span>( !( t&amp;<a class="code" href="a00722.html#aaeec59dde09fe92be196ecddb480777b">WRITER</a> ))</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                <span class="keywordflow">break</span>; <span class="comment">// successfully stored increased number of readers</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            <span class="comment">// writer got there first, undo the increment</span></div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            __TBB_FetchAndAddW( &amp;<a class="code" href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">state</a>, -(intptr_t)<a class="code" href="a00722.html#af1386a2fa5979432e4a58b94e68db23f">ONE_READER</a> );</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        }</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    }</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <a class="code" href="a01011.html#adf75d9635323cc786c012fe69ceef418">ITT_NOTIFY</a>(sync_acquired, <span class="keyword">this</span>);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <a class="code" href="a01098.html#a7b58d28a34a1717e2ddb591f00658b10">__TBB_ASSERT</a>( <a class="code" href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">state</a> &amp; <a class="code" href="a00722.html#a6cc93cdcf4ad43f6bf8b0f76cde66f9e">READERS</a>, <span class="stringliteral">&quot;invalid state of a read lock: no readers&quot;</span> );</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;}</div><div class="ttc" id="a00722_html_a5b321914828e5e21baf24d58f32c66d5"><div class="ttname"><a href="a00722.html#a5b321914828e5e21baf24d58f32c66d5">tbb::spin_rw_mutex_v3::WRITER_PENDING</a></div><div class="ttdeci">static const state_t WRITER_PENDING</div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00213">spin_rw_mutex.h:213</a></div></div>
<div class="ttc" id="a01016_html_a571c9802609300b38fd3d5ac52b1773c"><div class="ttname"><a href="a01016.html#a571c9802609300b38fd3d5ac52b1773c">s</a></div><div class="ttdeci">void const char const char int ITT_FORMAT __itt_group_sync s</div><div class="ttdef"><b>Definition:</b> <a href="a01016_source.html#l00080">ittnotify_static.h:80</a></div></div>
<div class="ttc" id="a00722_html_a6cc93cdcf4ad43f6bf8b0f76cde66f9e"><div class="ttname"><a href="a00722.html#a6cc93cdcf4ad43f6bf8b0f76cde66f9e">tbb::spin_rw_mutex_v3::READERS</a></div><div class="ttdeci">static const state_t READERS</div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00214">spin_rw_mutex.h:214</a></div></div>
<div class="ttc" id="a00722_html_af1386a2fa5979432e4a58b94e68db23f"><div class="ttname"><a href="a00722.html#af1386a2fa5979432e4a58b94e68db23f">tbb::spin_rw_mutex_v3::ONE_READER</a></div><div class="ttdeci">static const state_t ONE_READER</div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00215">spin_rw_mutex.h:215</a></div></div>
<div class="ttc" id="a01011_html_adf75d9635323cc786c012fe69ceef418"><div class="ttname"><a href="a01011.html#adf75d9635323cc786c012fe69ceef418">ITT_NOTIFY</a></div><div class="ttdeci">#define ITT_NOTIFY(name, obj)</div><div class="ttdef"><b>Definition:</b> <a href="a01011_source.html#l00120">itt_notify.h:120</a></div></div>
<div class="ttc" id="a00722_html_aa28625051072472ccd8a2b19405d6fb3"><div class="ttname"><a href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">tbb::spin_rw_mutex_v3::state</a></div><div class="ttdeci">state_t state</div><div class="ttdoc">State of lock. </div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00221">spin_rw_mutex.h:221</a></div></div>
<div class="ttc" id="a00722_html_aaeec59dde09fe92be196ecddb480777b"><div class="ttname"><a href="a00722.html#aaeec59dde09fe92be196ecddb480777b">tbb::spin_rw_mutex_v3::WRITER</a></div><div class="ttdeci">static const state_t WRITER</div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00212">spin_rw_mutex.h:212</a></div></div>
<div class="ttc" id="a01098_html_a7b58d28a34a1717e2ddb591f00658b10"><div class="ttname"><a href="a01098.html#a7b58d28a34a1717e2ddb591f00658b10">__TBB_ASSERT</a></div><div class="ttdeci">#define __TBB_ASSERT(predicate, comment)</div><div class="ttdoc">No-op version of __TBB_ASSERT. </div><div class="ttdef"><b>Definition:</b> <a href="a01098_source.html#l00169">tbb_stddef.h:169</a></div></div>
<div class="ttc" id="a00722_html_a27adc7d791dfaa4a60638313b9d1c1f4"><div class="ttname"><a href="a00722.html#a27adc7d791dfaa4a60638313b9d1c1f4">tbb::spin_rw_mutex_v3::state_t</a></div><div class="ttdeci">intptr_t state_t</div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00211">spin_rw_mutex.h:211</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a467101edd40480cbc14a2d91ff812108"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool tbb::spin_rw_mutex_v3::internal_acquire_writer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Internal acquire write lock. </p>
<p>Acquire write lock on the given mutex. </p>

<p>Definition at line <a class="el" href="a01069_source.html#l00041">41</a> of file <a class="el" href="a01069_source.html">spin_rw_mutex.cpp</a>.</p>

<p>References <a class="el" href="a01089.html#a4c867c719a6d9d6df0501968642dacb2">__TBB_AtomicOR()</a>, <a class="el" href="a00722.html#a6a811c72bd7e5ad6a3a9161ee05e298c">BUSY</a>, <a class="el" href="a01113.html#a5f048ce5bfca13f3bada9bfb09c1687e">tbb::CAS()</a>, <a class="el" href="a01011.html#adf75d9635323cc786c012fe69ceef418">ITT_NOTIFY</a>, <a class="el" href="a01016.html#a571c9802609300b38fd3d5ac52b1773c">s</a>, <a class="el" href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">state</a>, <a class="el" href="a00722.html#aaeec59dde09fe92be196ecddb480777b">WRITER</a>, and <a class="el" href="a00722.html#a5b321914828e5e21baf24d58f32c66d5">WRITER_PENDING</a>.</p>

<p>Referenced by <a class="el" href="a00722.html#abe7bd52786921ba0f923444c91232b08">internal_upgrade()</a>.</p>
<div class="fragment"><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;{</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <a class="code" href="a01011.html#adf75d9635323cc786c012fe69ceef418">ITT_NOTIFY</a>(sync_prepare, <span class="keyword">this</span>);</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keywordflow">for</span>( internal::atomic_backoff backoff;;backoff.pause() ){</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        <a class="code" href="a00722.html#a27adc7d791dfaa4a60638313b9d1c1f4">state_t</a> <a class="code" href="a01016.html#a571c9802609300b38fd3d5ac52b1773c">s</a> = <span class="keyword">const_cast&lt;</span><span class="keyword">volatile </span><a class="code" href="a00722.html#a27adc7d791dfaa4a60638313b9d1c1f4">state_t</a>&amp;<span class="keyword">&gt;</span>(<a class="code" href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">state</a>); <span class="comment">// ensure reloading</span></div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        <span class="keywordflow">if</span>( !(s &amp; <a class="code" href="a00722.html#a6a811c72bd7e5ad6a3a9161ee05e298c">BUSY</a>) ) { <span class="comment">// no readers, no writers</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;            <span class="keywordflow">if</span>( <a class="code" href="a01113.html#a5f048ce5bfca13f3bada9bfb09c1687e">CAS</a>(<a class="code" href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">state</a>, <a class="code" href="a00722.html#aaeec59dde09fe92be196ecddb480777b">WRITER</a>, s)==<a class="code" href="a01016.html#a571c9802609300b38fd3d5ac52b1773c">s</a> )</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                <span class="keywordflow">break</span>; <span class="comment">// successfully stored writer flag</span></div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;            backoff.reset(); <span class="comment">// we could be very close to complete op.</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        } <span class="keywordflow">else</span> <span class="keywordflow">if</span>( !(s &amp; <a class="code" href="a00722.html#a5b321914828e5e21baf24d58f32c66d5">WRITER_PENDING</a>) ) { <span class="comment">// no pending writers</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;            <a class="code" href="a01089.html#a4c867c719a6d9d6df0501968642dacb2">__TBB_AtomicOR</a>(&amp;<a class="code" href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">state</a>, WRITER_PENDING);</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        }</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    }</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="a01011.html#adf75d9635323cc786c012fe69ceef418">ITT_NOTIFY</a>(sync_acquired, <span class="keyword">this</span>);</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;}</div><div class="ttc" id="a01113_html_a5f048ce5bfca13f3bada9bfb09c1687e"><div class="ttname"><a href="a01113.html#a5f048ce5bfca13f3bada9bfb09c1687e">tbb::CAS</a></div><div class="ttdeci">static T CAS(volatile T &amp;addr, T newv, T oldv)</div><div class="ttdef"><b>Definition:</b> <a href="a01069_source.html#l00034">spin_rw_mutex.cpp:34</a></div></div>
<div class="ttc" id="a00722_html_a5b321914828e5e21baf24d58f32c66d5"><div class="ttname"><a href="a00722.html#a5b321914828e5e21baf24d58f32c66d5">tbb::spin_rw_mutex_v3::WRITER_PENDING</a></div><div class="ttdeci">static const state_t WRITER_PENDING</div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00213">spin_rw_mutex.h:213</a></div></div>
<div class="ttc" id="a01016_html_a571c9802609300b38fd3d5ac52b1773c"><div class="ttname"><a href="a01016.html#a571c9802609300b38fd3d5ac52b1773c">s</a></div><div class="ttdeci">void const char const char int ITT_FORMAT __itt_group_sync s</div><div class="ttdef"><b>Definition:</b> <a href="a01016_source.html#l00080">ittnotify_static.h:80</a></div></div>
<div class="ttc" id="a00722_html_a6a811c72bd7e5ad6a3a9161ee05e298c"><div class="ttname"><a href="a00722.html#a6a811c72bd7e5ad6a3a9161ee05e298c">tbb::spin_rw_mutex_v3::BUSY</a></div><div class="ttdeci">static const state_t BUSY</div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00216">spin_rw_mutex.h:216</a></div></div>
<div class="ttc" id="a01089_html_a4c867c719a6d9d6df0501968642dacb2"><div class="ttname"><a href="a01089.html#a4c867c719a6d9d6df0501968642dacb2">__TBB_AtomicOR</a></div><div class="ttdeci">void __TBB_AtomicOR(volatile void *operand, uintptr_t addend)</div><div class="ttdef"><b>Definition:</b> <a href="a01089_source.html#l00882">tbb_machine.h:882</a></div></div>
<div class="ttc" id="a01011_html_adf75d9635323cc786c012fe69ceef418"><div class="ttname"><a href="a01011.html#adf75d9635323cc786c012fe69ceef418">ITT_NOTIFY</a></div><div class="ttdeci">#define ITT_NOTIFY(name, obj)</div><div class="ttdef"><b>Definition:</b> <a href="a01011_source.html#l00120">itt_notify.h:120</a></div></div>
<div class="ttc" id="a00722_html_aa28625051072472ccd8a2b19405d6fb3"><div class="ttname"><a href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">tbb::spin_rw_mutex_v3::state</a></div><div class="ttdeci">state_t state</div><div class="ttdoc">State of lock. </div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00221">spin_rw_mutex.h:221</a></div></div>
<div class="ttc" id="a00722_html_aaeec59dde09fe92be196ecddb480777b"><div class="ttname"><a href="a00722.html#aaeec59dde09fe92be196ecddb480777b">tbb::spin_rw_mutex_v3::WRITER</a></div><div class="ttdeci">static const state_t WRITER</div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00212">spin_rw_mutex.h:212</a></div></div>
<div class="ttc" id="a00722_html_a27adc7d791dfaa4a60638313b9d1c1f4"><div class="ttname"><a href="a00722.html#a27adc7d791dfaa4a60638313b9d1c1f4">tbb::spin_rw_mutex_v3::state_t</a></div><div class="ttdeci">intptr_t state_t</div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00211">spin_rw_mutex.h:211</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="a00722_a467101edd40480cbc14a2d91ff812108_cgraph.svg" width="100%" height="378"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="a00722_a467101edd40480cbc14a2d91ff812108_icgraph.svg" width="348" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a891c161e88a6af22d3911a25adedae7f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a> tbb::spin_rw_mutex_v3::internal_construct </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a01069_source.html#l00156">156</a> of file <a class="el" href="a01069_source.html">spin_rw_mutex.cpp</a>.</p>

<p>References <a class="el" href="a01011.html#a12fc55887756a149e9d8bf158f9c72f2">_T</a>, and <a class="el" href="a01011.html#a7e0f29d1fe322261ee07367d0cdf2563">ITT_SYNC_CREATE</a>.</p>
<div class="fragment"><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                                          {</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <a class="code" href="a01011.html#a7e0f29d1fe322261ee07367d0cdf2563">ITT_SYNC_CREATE</a>(<span class="keyword">this</span>, <a class="code" href="a01011.html#a12fc55887756a149e9d8bf158f9c72f2">_T</a>(<span class="stringliteral">&quot;tbb::spin_rw_mutex&quot;</span>), <a class="code" href="a01011.html#a12fc55887756a149e9d8bf158f9c72f2">_T</a>(<span class="stringliteral">&quot;&quot;</span>));</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;}</div><div class="ttc" id="a01011_html_a7e0f29d1fe322261ee07367d0cdf2563"><div class="ttname"><a href="a01011.html#a7e0f29d1fe322261ee07367d0cdf2563">ITT_SYNC_CREATE</a></div><div class="ttdeci">#define ITT_SYNC_CREATE(obj, type, name)</div><div class="ttdef"><b>Definition:</b> <a href="a01011_source.html#l00123">itt_notify.h:123</a></div></div>
<div class="ttc" id="a01011_html_a12fc55887756a149e9d8bf158f9c72f2"><div class="ttname"><a href="a01011.html#a12fc55887756a149e9d8bf158f9c72f2">_T</a></div><div class="ttdeci">#define _T(string_literal)</div><div class="ttdoc">Standard Windows style macro to markup the string literals. </div><div class="ttdef"><b>Definition:</b> <a href="a01011_source.html#l00066">itt_notify.h:66</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8cf51efa83b6c563ba3472634e37bac8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a> tbb::spin_rw_mutex_v3::internal_downgrade </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Out of line code for downgrading a writer to a reader. </p>
<p>Downgrade writer to a reader.</p>
<p>This code has debug checking and instrumentation for Intel(R) Thread Checker and Intel(R) Thread Profiler. </p>

<p>Definition at line <a class="el" href="a01069_source.html#l00112">112</a> of file <a class="el" href="a01069_source.html">spin_rw_mutex.cpp</a>.</p>

<p>References <a class="el" href="a01098.html#a7b58d28a34a1717e2ddb591f00658b10">__TBB_ASSERT</a>, <a class="el" href="a01011.html#adf75d9635323cc786c012fe69ceef418">ITT_NOTIFY</a>, <a class="el" href="a00722.html#af1386a2fa5979432e4a58b94e68db23f">ONE_READER</a>, <a class="el" href="a00722.html#a6cc93cdcf4ad43f6bf8b0f76cde66f9e">READERS</a>, <a class="el" href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">state</a>, <a class="el" href="a01016.html#ac5a347b47a5603a1f30f6fbf790724b7">sync_releasing</a>, and <a class="el" href="a00722.html#aaeec59dde09fe92be196ecddb480777b">WRITER</a>.</p>
<div class="fragment"><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                                          {</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <a class="code" href="a01011.html#adf75d9635323cc786c012fe69ceef418">ITT_NOTIFY</a>(<a class="code" href="a01016.html#ac5a347b47a5603a1f30f6fbf790724b7">sync_releasing</a>, <span class="keyword">this</span>);</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    __TBB_FetchAndAddW( &amp;<a class="code" href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">state</a>, (intptr_t)(<a class="code" href="a00722.html#af1386a2fa5979432e4a58b94e68db23f">ONE_READER</a>-<a class="code" href="a00722.html#aaeec59dde09fe92be196ecddb480777b">WRITER</a>));</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <a class="code" href="a01098.html#a7b58d28a34a1717e2ddb591f00658b10">__TBB_ASSERT</a>( <a class="code" href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">state</a> &amp; <a class="code" href="a00722.html#a6cc93cdcf4ad43f6bf8b0f76cde66f9e">READERS</a>, <span class="stringliteral">&quot;invalid state after downgrade: no readers&quot;</span> );</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;}</div><div class="ttc" id="a00722_html_a6cc93cdcf4ad43f6bf8b0f76cde66f9e"><div class="ttname"><a href="a00722.html#a6cc93cdcf4ad43f6bf8b0f76cde66f9e">tbb::spin_rw_mutex_v3::READERS</a></div><div class="ttdeci">static const state_t READERS</div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00214">spin_rw_mutex.h:214</a></div></div>
<div class="ttc" id="a01016_html_ac5a347b47a5603a1f30f6fbf790724b7"><div class="ttname"><a href="a01016.html#ac5a347b47a5603a1f30f6fbf790724b7">sync_releasing</a></div><div class="ttdeci">void const char const char int ITT_FORMAT __itt_group_sync x void const char ITT_FORMAT __itt_group_sync s void ITT_FORMAT __itt_group_sync p void ITT_FORMAT p sync_releasing</div><div class="ttdef"><b>Definition:</b> <a href="a01016_source.html#l00093">ittnotify_static.h:93</a></div></div>
<div class="ttc" id="a00722_html_af1386a2fa5979432e4a58b94e68db23f"><div class="ttname"><a href="a00722.html#af1386a2fa5979432e4a58b94e68db23f">tbb::spin_rw_mutex_v3::ONE_READER</a></div><div class="ttdeci">static const state_t ONE_READER</div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00215">spin_rw_mutex.h:215</a></div></div>
<div class="ttc" id="a01011_html_adf75d9635323cc786c012fe69ceef418"><div class="ttname"><a href="a01011.html#adf75d9635323cc786c012fe69ceef418">ITT_NOTIFY</a></div><div class="ttdeci">#define ITT_NOTIFY(name, obj)</div><div class="ttdef"><b>Definition:</b> <a href="a01011_source.html#l00120">itt_notify.h:120</a></div></div>
<div class="ttc" id="a00722_html_aa28625051072472ccd8a2b19405d6fb3"><div class="ttname"><a href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">tbb::spin_rw_mutex_v3::state</a></div><div class="ttdeci">state_t state</div><div class="ttdoc">State of lock. </div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00221">spin_rw_mutex.h:221</a></div></div>
<div class="ttc" id="a00722_html_aaeec59dde09fe92be196ecddb480777b"><div class="ttname"><a href="a00722.html#aaeec59dde09fe92be196ecddb480777b">tbb::spin_rw_mutex_v3::WRITER</a></div><div class="ttdeci">static const state_t WRITER</div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00212">spin_rw_mutex.h:212</a></div></div>
<div class="ttc" id="a01098_html_a7b58d28a34a1717e2ddb591f00658b10"><div class="ttname"><a href="a01098.html#a7b58d28a34a1717e2ddb591f00658b10">__TBB_ASSERT</a></div><div class="ttdeci">#define __TBB_ASSERT(predicate, comment)</div><div class="ttdoc">No-op version of __TBB_ASSERT. </div><div class="ttdef"><b>Definition:</b> <a href="a01098_source.html#l00169">tbb_stddef.h:169</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab11616f92185e70c8c1b2786d0a2056c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a> tbb::spin_rw_mutex_v3::internal_release_reader </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Internal release read lock. </p>
<p>Release read lock on the given mutex. </p>

<p>Definition at line <a class="el" href="a01069_source.html#l00119">119</a> of file <a class="el" href="a01069_source.html">spin_rw_mutex.cpp</a>.</p>

<p>References <a class="el" href="a01098.html#a7b58d28a34a1717e2ddb591f00658b10">__TBB_ASSERT</a>, <a class="el" href="a01089.html#aa689caf9c3864c691eacec00808ea3a8">__TBB_FetchAndAddWrelease</a>, <a class="el" href="a01011.html#adf75d9635323cc786c012fe69ceef418">ITT_NOTIFY</a>, <a class="el" href="a00722.html#af1386a2fa5979432e4a58b94e68db23f">ONE_READER</a>, <a class="el" href="a00722.html#a6cc93cdcf4ad43f6bf8b0f76cde66f9e">READERS</a>, <a class="el" href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">state</a>, and <a class="el" href="a01016.html#ac5a347b47a5603a1f30f6fbf790724b7">sync_releasing</a>.</p>

<p>Referenced by <a class="el" href="a00722.html#abe7bd52786921ba0f923444c91232b08">internal_upgrade()</a>, and <a class="el" href="a00690.html#a99e279a995a51abfb87b865e886949f8">tbb::spin_rw_mutex_v3::scoped_lock::release()</a>.</p>
<div class="fragment"><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;{</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <a class="code" href="a01098.html#a7b58d28a34a1717e2ddb591f00658b10">__TBB_ASSERT</a>( <a class="code" href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">state</a> &amp; <a class="code" href="a00722.html#a6cc93cdcf4ad43f6bf8b0f76cde66f9e">READERS</a>, <span class="stringliteral">&quot;invalid state of a read lock: no readers&quot;</span> );</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <a class="code" href="a01011.html#adf75d9635323cc786c012fe69ceef418">ITT_NOTIFY</a>(<a class="code" href="a01016.html#ac5a347b47a5603a1f30f6fbf790724b7">sync_releasing</a>, <span class="keyword">this</span>); <span class="comment">// release reader</span></div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <a class="code" href="a01089.html#aa689caf9c3864c691eacec00808ea3a8">__TBB_FetchAndAddWrelease</a>( &amp;<a class="code" href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">state</a>,-(intptr_t)<a class="code" href="a00722.html#af1386a2fa5979432e4a58b94e68db23f">ONE_READER</a>);</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;}</div><div class="ttc" id="a01089_html_aa689caf9c3864c691eacec00808ea3a8"><div class="ttname"><a href="a01089.html#aa689caf9c3864c691eacec00808ea3a8">__TBB_FetchAndAddWrelease</a></div><div class="ttdeci">#define __TBB_FetchAndAddWrelease(P, V)</div><div class="ttdef"><b>Definition:</b> <a href="a01089_source.html#l00313">tbb_machine.h:313</a></div></div>
<div class="ttc" id="a00722_html_a6cc93cdcf4ad43f6bf8b0f76cde66f9e"><div class="ttname"><a href="a00722.html#a6cc93cdcf4ad43f6bf8b0f76cde66f9e">tbb::spin_rw_mutex_v3::READERS</a></div><div class="ttdeci">static const state_t READERS</div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00214">spin_rw_mutex.h:214</a></div></div>
<div class="ttc" id="a01016_html_ac5a347b47a5603a1f30f6fbf790724b7"><div class="ttname"><a href="a01016.html#ac5a347b47a5603a1f30f6fbf790724b7">sync_releasing</a></div><div class="ttdeci">void const char const char int ITT_FORMAT __itt_group_sync x void const char ITT_FORMAT __itt_group_sync s void ITT_FORMAT __itt_group_sync p void ITT_FORMAT p sync_releasing</div><div class="ttdef"><b>Definition:</b> <a href="a01016_source.html#l00093">ittnotify_static.h:93</a></div></div>
<div class="ttc" id="a00722_html_af1386a2fa5979432e4a58b94e68db23f"><div class="ttname"><a href="a00722.html#af1386a2fa5979432e4a58b94e68db23f">tbb::spin_rw_mutex_v3::ONE_READER</a></div><div class="ttdeci">static const state_t ONE_READER</div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00215">spin_rw_mutex.h:215</a></div></div>
<div class="ttc" id="a01011_html_adf75d9635323cc786c012fe69ceef418"><div class="ttname"><a href="a01011.html#adf75d9635323cc786c012fe69ceef418">ITT_NOTIFY</a></div><div class="ttdeci">#define ITT_NOTIFY(name, obj)</div><div class="ttdef"><b>Definition:</b> <a href="a01011_source.html#l00120">itt_notify.h:120</a></div></div>
<div class="ttc" id="a00722_html_aa28625051072472ccd8a2b19405d6fb3"><div class="ttname"><a href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">tbb::spin_rw_mutex_v3::state</a></div><div class="ttdeci">state_t state</div><div class="ttdoc">State of lock. </div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00221">spin_rw_mutex.h:221</a></div></div>
<div class="ttc" id="a01098_html_a7b58d28a34a1717e2ddb591f00658b10"><div class="ttname"><a href="a01098.html#a7b58d28a34a1717e2ddb591f00658b10">__TBB_ASSERT</a></div><div class="ttdeci">#define __TBB_ASSERT(predicate, comment)</div><div class="ttdoc">No-op version of __TBB_ASSERT. </div><div class="ttdef"><b>Definition:</b> <a href="a01098_source.html#l00169">tbb_stddef.h:169</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="a00722_ab11616f92185e70c8c1b2786d0a2056c_icgraph.svg" width="376" height="118"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="adbb7d21e6b8ffbb380ddda0b4a43323d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a> tbb::spin_rw_mutex_v3::internal_release_writer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Out of line code for releasing a write lock. </p>
<p>Release writer lock on the given mutex.</p>
<p>This code has debug checking and instrumentation for Intel(R) Thread Checker and Intel(R) Thread Profiler. </p>

<p>Definition at line <a class="el" href="a01069_source.html#l00059">59</a> of file <a class="el" href="a01069_source.html">spin_rw_mutex.cpp</a>.</p>

<p>References <a class="el" href="a01089.html#a5f6b1490b38bfa1bdef7400be89e1aeb">__TBB_AtomicAND()</a>, <a class="el" href="a01011.html#adf75d9635323cc786c012fe69ceef418">ITT_NOTIFY</a>, <a class="el" href="a00722.html#a6cc93cdcf4ad43f6bf8b0f76cde66f9e">READERS</a>, <a class="el" href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">state</a>, and <a class="el" href="a01016.html#ac5a347b47a5603a1f30f6fbf790724b7">sync_releasing</a>.</p>

<p>Referenced by <a class="el" href="a00690.html#a99e279a995a51abfb87b865e886949f8">tbb::spin_rw_mutex_v3::scoped_lock::release()</a>.</p>
<div class="fragment"><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;{</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <a class="code" href="a01011.html#adf75d9635323cc786c012fe69ceef418">ITT_NOTIFY</a>(<a class="code" href="a01016.html#ac5a347b47a5603a1f30f6fbf790724b7">sync_releasing</a>, <span class="keyword">this</span>);</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <a class="code" href="a01089.html#a5f6b1490b38bfa1bdef7400be89e1aeb">__TBB_AtomicAND</a>( &amp;<a class="code" href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">state</a>, <a class="code" href="a00722.html#a6cc93cdcf4ad43f6bf8b0f76cde66f9e">READERS</a> );</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;}</div><div class="ttc" id="a00722_html_a6cc93cdcf4ad43f6bf8b0f76cde66f9e"><div class="ttname"><a href="a00722.html#a6cc93cdcf4ad43f6bf8b0f76cde66f9e">tbb::spin_rw_mutex_v3::READERS</a></div><div class="ttdeci">static const state_t READERS</div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00214">spin_rw_mutex.h:214</a></div></div>
<div class="ttc" id="a01016_html_ac5a347b47a5603a1f30f6fbf790724b7"><div class="ttname"><a href="a01016.html#ac5a347b47a5603a1f30f6fbf790724b7">sync_releasing</a></div><div class="ttdeci">void const char const char int ITT_FORMAT __itt_group_sync x void const char ITT_FORMAT __itt_group_sync s void ITT_FORMAT __itt_group_sync p void ITT_FORMAT p sync_releasing</div><div class="ttdef"><b>Definition:</b> <a href="a01016_source.html#l00093">ittnotify_static.h:93</a></div></div>
<div class="ttc" id="a01011_html_adf75d9635323cc786c012fe69ceef418"><div class="ttname"><a href="a01011.html#adf75d9635323cc786c012fe69ceef418">ITT_NOTIFY</a></div><div class="ttdeci">#define ITT_NOTIFY(name, obj)</div><div class="ttdef"><b>Definition:</b> <a href="a01011_source.html#l00120">itt_notify.h:120</a></div></div>
<div class="ttc" id="a00722_html_aa28625051072472ccd8a2b19405d6fb3"><div class="ttname"><a href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">tbb::spin_rw_mutex_v3::state</a></div><div class="ttdeci">state_t state</div><div class="ttdoc">State of lock. </div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00221">spin_rw_mutex.h:221</a></div></div>
<div class="ttc" id="a01089_html_a5f6b1490b38bfa1bdef7400be89e1aeb"><div class="ttname"><a href="a01089.html#a5f6b1490b38bfa1bdef7400be89e1aeb">__TBB_AtomicAND</a></div><div class="ttdeci">void __TBB_AtomicAND(volatile void *operand, uintptr_t addend)</div><div class="ttdef"><b>Definition:</b> <a href="a01089_source.html#l00892">tbb_machine.h:892</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="a00722_adbb7d21e6b8ffbb380ddda0b4a43323d_cgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="a00722_adbb7d21e6b8ffbb380ddda0b4a43323d_icgraph.svg" width="376" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7aaa7f4438fc731ab5fc1dd3ee77dce4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool tbb::spin_rw_mutex_v3::internal_try_acquire_reader </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Internal try_acquire read lock. </p>
<p>Try to acquire read lock on the given mutex. </p>

<p>Definition at line <a class="el" href="a01069_source.html#l00140">140</a> of file <a class="el" href="a01069_source.html">spin_rw_mutex.cpp</a>.</p>

<p>References <a class="el" href="a01011.html#adf75d9635323cc786c012fe69ceef418">ITT_NOTIFY</a>, <a class="el" href="a00722.html#af1386a2fa5979432e4a58b94e68db23f">ONE_READER</a>, <a class="el" href="a01016.html#a571c9802609300b38fd3d5ac52b1773c">s</a>, <a class="el" href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">state</a>, <a class="el" href="a00722.html#aaeec59dde09fe92be196ecddb480777b">WRITER</a>, and <a class="el" href="a00722.html#a5b321914828e5e21baf24d58f32c66d5">WRITER_PENDING</a>.</p>

<p>Referenced by <a class="el" href="a00690.html#abf17ada91882fd70f139c503c0220f16">tbb::spin_rw_mutex_v3::scoped_lock::try_acquire()</a>.</p>
<div class="fragment"><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;{</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="comment">// for a reader: acquire if no active or waiting writers</span></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <a class="code" href="a00722.html#a27adc7d791dfaa4a60638313b9d1c1f4">state_t</a> <a class="code" href="a01016.html#a571c9802609300b38fd3d5ac52b1773c">s</a> = <a class="code" href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">state</a>;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">if</span>( !(s &amp; (<a class="code" href="a00722.html#aaeec59dde09fe92be196ecddb480777b">WRITER</a>|<a class="code" href="a00722.html#a5b321914828e5e21baf24d58f32c66d5">WRITER_PENDING</a>)) ) { <span class="comment">// no writers</span></div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <a class="code" href="a00722.html#a27adc7d791dfaa4a60638313b9d1c1f4">state_t</a> t = (<a class="code" href="a00722.html#a27adc7d791dfaa4a60638313b9d1c1f4">state_t</a>)__TBB_FetchAndAddW( &amp;<a class="code" href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">state</a>, (intptr_t) <a class="code" href="a00722.html#af1386a2fa5979432e4a58b94e68db23f">ONE_READER</a> );</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <span class="keywordflow">if</span>( !( t&amp;<a class="code" href="a00722.html#aaeec59dde09fe92be196ecddb480777b">WRITER</a> )) {  <span class="comment">// got the lock</span></div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            <a class="code" href="a01011.html#adf75d9635323cc786c012fe69ceef418">ITT_NOTIFY</a>(sync_acquired, <span class="keyword">this</span>);</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// successfully stored increased number of readers</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        }</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <span class="comment">// writer got there first, undo the increment</span></div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        __TBB_FetchAndAddW( &amp;<a class="code" href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">state</a>, -(intptr_t)<a class="code" href="a00722.html#af1386a2fa5979432e4a58b94e68db23f">ONE_READER</a> );</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;}</div><div class="ttc" id="a00722_html_a5b321914828e5e21baf24d58f32c66d5"><div class="ttname"><a href="a00722.html#a5b321914828e5e21baf24d58f32c66d5">tbb::spin_rw_mutex_v3::WRITER_PENDING</a></div><div class="ttdeci">static const state_t WRITER_PENDING</div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00213">spin_rw_mutex.h:213</a></div></div>
<div class="ttc" id="a01016_html_a571c9802609300b38fd3d5ac52b1773c"><div class="ttname"><a href="a01016.html#a571c9802609300b38fd3d5ac52b1773c">s</a></div><div class="ttdeci">void const char const char int ITT_FORMAT __itt_group_sync s</div><div class="ttdef"><b>Definition:</b> <a href="a01016_source.html#l00080">ittnotify_static.h:80</a></div></div>
<div class="ttc" id="a00722_html_af1386a2fa5979432e4a58b94e68db23f"><div class="ttname"><a href="a00722.html#af1386a2fa5979432e4a58b94e68db23f">tbb::spin_rw_mutex_v3::ONE_READER</a></div><div class="ttdeci">static const state_t ONE_READER</div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00215">spin_rw_mutex.h:215</a></div></div>
<div class="ttc" id="a01011_html_adf75d9635323cc786c012fe69ceef418"><div class="ttname"><a href="a01011.html#adf75d9635323cc786c012fe69ceef418">ITT_NOTIFY</a></div><div class="ttdeci">#define ITT_NOTIFY(name, obj)</div><div class="ttdef"><b>Definition:</b> <a href="a01011_source.html#l00120">itt_notify.h:120</a></div></div>
<div class="ttc" id="a00722_html_aa28625051072472ccd8a2b19405d6fb3"><div class="ttname"><a href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">tbb::spin_rw_mutex_v3::state</a></div><div class="ttdeci">state_t state</div><div class="ttdoc">State of lock. </div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00221">spin_rw_mutex.h:221</a></div></div>
<div class="ttc" id="a00722_html_aaeec59dde09fe92be196ecddb480777b"><div class="ttname"><a href="a00722.html#aaeec59dde09fe92be196ecddb480777b">tbb::spin_rw_mutex_v3::WRITER</a></div><div class="ttdeci">static const state_t WRITER</div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00212">spin_rw_mutex.h:212</a></div></div>
<div class="ttc" id="a00722_html_a27adc7d791dfaa4a60638313b9d1c1f4"><div class="ttname"><a href="a00722.html#a27adc7d791dfaa4a60638313b9d1c1f4">tbb::spin_rw_mutex_v3::state_t</a></div><div class="ttdeci">intptr_t state_t</div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00211">spin_rw_mutex.h:211</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="a00722_a7aaa7f4438fc731ab5fc1dd3ee77dce4_icgraph.svg" width="370" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4ff4605d198a16900922eea80f5aac28"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool tbb::spin_rw_mutex_v3::internal_try_acquire_writer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Internal try_acquire write lock. </p>
<p>Try to acquire write lock on the given mutex. </p>

<p>Definition at line <a class="el" href="a01069_source.html#l00127">127</a> of file <a class="el" href="a01069_source.html">spin_rw_mutex.cpp</a>.</p>

<p>References <a class="el" href="a00722.html#a6a811c72bd7e5ad6a3a9161ee05e298c">BUSY</a>, <a class="el" href="a01113.html#a5f048ce5bfca13f3bada9bfb09c1687e">tbb::CAS()</a>, <a class="el" href="a01011.html#adf75d9635323cc786c012fe69ceef418">ITT_NOTIFY</a>, <a class="el" href="a01016.html#a571c9802609300b38fd3d5ac52b1773c">s</a>, <a class="el" href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">state</a>, and <a class="el" href="a00722.html#aaeec59dde09fe92be196ecddb480777b">WRITER</a>.</p>

<p>Referenced by <a class="el" href="a00690.html#abf17ada91882fd70f139c503c0220f16">tbb::spin_rw_mutex_v3::scoped_lock::try_acquire()</a>.</p>
<div class="fragment"><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;{</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="comment">// for a writer: only possible to acquire if no active readers or writers</span></div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <a class="code" href="a00722.html#a27adc7d791dfaa4a60638313b9d1c1f4">state_t</a> <a class="code" href="a01016.html#a571c9802609300b38fd3d5ac52b1773c">s</a> = <a class="code" href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">state</a>;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordflow">if</span>( !(s &amp; <a class="code" href="a00722.html#a6a811c72bd7e5ad6a3a9161ee05e298c">BUSY</a>) ) <span class="comment">// no readers, no writers; mask is 1..1101</span></div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="a01113.html#a5f048ce5bfca13f3bada9bfb09c1687e">CAS</a>(<a class="code" href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">state</a>, <a class="code" href="a00722.html#aaeec59dde09fe92be196ecddb480777b">WRITER</a>, s)==s ) {</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            <a class="code" href="a01011.html#adf75d9635323cc786c012fe69ceef418">ITT_NOTIFY</a>(sync_acquired, <span class="keyword">this</span>);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// successfully stored writer flag</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        }</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;}</div><div class="ttc" id="a01113_html_a5f048ce5bfca13f3bada9bfb09c1687e"><div class="ttname"><a href="a01113.html#a5f048ce5bfca13f3bada9bfb09c1687e">tbb::CAS</a></div><div class="ttdeci">static T CAS(volatile T &amp;addr, T newv, T oldv)</div><div class="ttdef"><b>Definition:</b> <a href="a01069_source.html#l00034">spin_rw_mutex.cpp:34</a></div></div>
<div class="ttc" id="a01016_html_a571c9802609300b38fd3d5ac52b1773c"><div class="ttname"><a href="a01016.html#a571c9802609300b38fd3d5ac52b1773c">s</a></div><div class="ttdeci">void const char const char int ITT_FORMAT __itt_group_sync s</div><div class="ttdef"><b>Definition:</b> <a href="a01016_source.html#l00080">ittnotify_static.h:80</a></div></div>
<div class="ttc" id="a00722_html_a6a811c72bd7e5ad6a3a9161ee05e298c"><div class="ttname"><a href="a00722.html#a6a811c72bd7e5ad6a3a9161ee05e298c">tbb::spin_rw_mutex_v3::BUSY</a></div><div class="ttdeci">static const state_t BUSY</div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00216">spin_rw_mutex.h:216</a></div></div>
<div class="ttc" id="a01011_html_adf75d9635323cc786c012fe69ceef418"><div class="ttname"><a href="a01011.html#adf75d9635323cc786c012fe69ceef418">ITT_NOTIFY</a></div><div class="ttdeci">#define ITT_NOTIFY(name, obj)</div><div class="ttdef"><b>Definition:</b> <a href="a01011_source.html#l00120">itt_notify.h:120</a></div></div>
<div class="ttc" id="a00722_html_aa28625051072472ccd8a2b19405d6fb3"><div class="ttname"><a href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">tbb::spin_rw_mutex_v3::state</a></div><div class="ttdeci">state_t state</div><div class="ttdoc">State of lock. </div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00221">spin_rw_mutex.h:221</a></div></div>
<div class="ttc" id="a00722_html_aaeec59dde09fe92be196ecddb480777b"><div class="ttname"><a href="a00722.html#aaeec59dde09fe92be196ecddb480777b">tbb::spin_rw_mutex_v3::WRITER</a></div><div class="ttdeci">static const state_t WRITER</div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00212">spin_rw_mutex.h:212</a></div></div>
<div class="ttc" id="a00722_html_a27adc7d791dfaa4a60638313b9d1c1f4"><div class="ttname"><a href="a00722.html#a27adc7d791dfaa4a60638313b9d1c1f4">tbb::spin_rw_mutex_v3::state_t</a></div><div class="ttdeci">intptr_t state_t</div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00211">spin_rw_mutex.h:211</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="a00722_a4ff4605d198a16900922eea80f5aac28_cgraph.svg" width="506" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="a00722_a4ff4605d198a16900922eea80f5aac28_icgraph.svg" width="370" height="67"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="abe7bd52786921ba0f923444c91232b08"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool tbb::spin_rw_mutex_v3::internal_upgrade </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Internal upgrade reader to become a writer. </p>
<p>Upgrade reader to become a writer.</p>
<p>Returns whether the upgrade happened without releasing and re-acquiring the lock </p>

<p>Definition at line <a class="el" href="a01069_source.html#l00086">86</a> of file <a class="el" href="a01069_source.html">spin_rw_mutex.cpp</a>.</p>

<p>References <a class="el" href="a01098.html#a7b58d28a34a1717e2ddb591f00658b10">__TBB_ASSERT</a>, <a class="el" href="a01113.html#a5f048ce5bfca13f3bada9bfb09c1687e">tbb::CAS()</a>, <a class="el" href="a00722.html#a467101edd40480cbc14a2d91ff812108">internal_acquire_writer()</a>, <a class="el" href="a00722.html#ab11616f92185e70c8c1b2786d0a2056c">internal_release_reader()</a>, <a class="el" href="a01011.html#adf75d9635323cc786c012fe69ceef418">ITT_NOTIFY</a>, <a class="el" href="a00722.html#af1386a2fa5979432e4a58b94e68db23f">ONE_READER</a>, <a class="el" href="a00722.html#a6cc93cdcf4ad43f6bf8b0f76cde66f9e">READERS</a>, <a class="el" href="a01016.html#a571c9802609300b38fd3d5ac52b1773c">s</a>, <a class="el" href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">state</a>, <a class="el" href="a00722.html#aaeec59dde09fe92be196ecddb480777b">WRITER</a>, and <a class="el" href="a00722.html#a5b321914828e5e21baf24d58f32c66d5">WRITER_PENDING</a>.</p>
<div class="fragment"><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;{</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <a class="code" href="a00722.html#a27adc7d791dfaa4a60638313b9d1c1f4">state_t</a> <a class="code" href="a01016.html#a571c9802609300b38fd3d5ac52b1773c">s</a> = <a class="code" href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">state</a>;</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <a class="code" href="a01098.html#a7b58d28a34a1717e2ddb591f00658b10">__TBB_ASSERT</a>( s &amp; <a class="code" href="a00722.html#a6cc93cdcf4ad43f6bf8b0f76cde66f9e">READERS</a>, <span class="stringliteral">&quot;invalid state before upgrade: no readers &quot;</span> );</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="comment">// check and set writer-pending flag</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="comment">// required conditions: either no pending writers, or we are the only reader</span></div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="comment">// (with multiple readers and pending writer, another upgrade could have been requested)</span></div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">while</span>( (s &amp; <a class="code" href="a00722.html#a6cc93cdcf4ad43f6bf8b0f76cde66f9e">READERS</a>)==<a class="code" href="a00722.html#af1386a2fa5979432e4a58b94e68db23f">ONE_READER</a> || !(s &amp; <a class="code" href="a00722.html#a5b321914828e5e21baf24d58f32c66d5">WRITER_PENDING</a>) ) {</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        <a class="code" href="a00722.html#a27adc7d791dfaa4a60638313b9d1c1f4">state_t</a> old_s = <a class="code" href="a01016.html#a571c9802609300b38fd3d5ac52b1773c">s</a>;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="keywordflow">if</span>( (s=<a class="code" href="a01113.html#a5f048ce5bfca13f3bada9bfb09c1687e">CAS</a>(<a class="code" href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">state</a>, s | <a class="code" href="a00722.html#aaeec59dde09fe92be196ecddb480777b">WRITER</a> | WRITER_PENDING, s))==old_s ) {</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            <a class="code" href="a01011.html#adf75d9635323cc786c012fe69ceef418">ITT_NOTIFY</a>(sync_prepare, <span class="keyword">this</span>);</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            internal::atomic_backoff backoff;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            <span class="keywordflow">while</span>( (<a class="code" href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">state</a> &amp; READERS) != <a class="code" href="a00722.html#af1386a2fa5979432e4a58b94e68db23f">ONE_READER</a> ) backoff.pause();</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            <a class="code" href="a01098.html#a7b58d28a34a1717e2ddb591f00658b10">__TBB_ASSERT</a>((<a class="code" href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">state</a>&amp;(WRITER_PENDING|<a class="code" href="a00722.html#aaeec59dde09fe92be196ecddb480777b">WRITER</a>))==(WRITER_PENDING|<a class="code" href="a00722.html#aaeec59dde09fe92be196ecddb480777b">WRITER</a>),<span class="stringliteral">&quot;invalid state when upgrading to writer&quot;</span>);</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            <span class="comment">// both new readers and writers are blocked at this time</span></div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            __TBB_FetchAndAddW( &amp;<a class="code" href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">state</a>,  - (intptr_t)(<a class="code" href="a00722.html#af1386a2fa5979432e4a58b94e68db23f">ONE_READER</a>+WRITER_PENDING));</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            <a class="code" href="a01011.html#adf75d9635323cc786c012fe69ceef418">ITT_NOTIFY</a>(sync_acquired, <span class="keyword">this</span>);</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// successfully upgraded</span></div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        }</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    }</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="comment">// slow reacquire</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="a00722.html#ab11616f92185e70c8c1b2786d0a2056c">internal_release_reader</a>();</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="a00722.html#a467101edd40480cbc14a2d91ff812108">internal_acquire_writer</a>(); <span class="comment">// always returns false</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;}</div><div class="ttc" id="a01113_html_a5f048ce5bfca13f3bada9bfb09c1687e"><div class="ttname"><a href="a01113.html#a5f048ce5bfca13f3bada9bfb09c1687e">tbb::CAS</a></div><div class="ttdeci">static T CAS(volatile T &amp;addr, T newv, T oldv)</div><div class="ttdef"><b>Definition:</b> <a href="a01069_source.html#l00034">spin_rw_mutex.cpp:34</a></div></div>
<div class="ttc" id="a00722_html_a5b321914828e5e21baf24d58f32c66d5"><div class="ttname"><a href="a00722.html#a5b321914828e5e21baf24d58f32c66d5">tbb::spin_rw_mutex_v3::WRITER_PENDING</a></div><div class="ttdeci">static const state_t WRITER_PENDING</div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00213">spin_rw_mutex.h:213</a></div></div>
<div class="ttc" id="a01016_html_a571c9802609300b38fd3d5ac52b1773c"><div class="ttname"><a href="a01016.html#a571c9802609300b38fd3d5ac52b1773c">s</a></div><div class="ttdeci">void const char const char int ITT_FORMAT __itt_group_sync s</div><div class="ttdef"><b>Definition:</b> <a href="a01016_source.html#l00080">ittnotify_static.h:80</a></div></div>
<div class="ttc" id="a00722_html_a6cc93cdcf4ad43f6bf8b0f76cde66f9e"><div class="ttname"><a href="a00722.html#a6cc93cdcf4ad43f6bf8b0f76cde66f9e">tbb::spin_rw_mutex_v3::READERS</a></div><div class="ttdeci">static const state_t READERS</div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00214">spin_rw_mutex.h:214</a></div></div>
<div class="ttc" id="a00722_html_af1386a2fa5979432e4a58b94e68db23f"><div class="ttname"><a href="a00722.html#af1386a2fa5979432e4a58b94e68db23f">tbb::spin_rw_mutex_v3::ONE_READER</a></div><div class="ttdeci">static const state_t ONE_READER</div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00215">spin_rw_mutex.h:215</a></div></div>
<div class="ttc" id="a01011_html_adf75d9635323cc786c012fe69ceef418"><div class="ttname"><a href="a01011.html#adf75d9635323cc786c012fe69ceef418">ITT_NOTIFY</a></div><div class="ttdeci">#define ITT_NOTIFY(name, obj)</div><div class="ttdef"><b>Definition:</b> <a href="a01011_source.html#l00120">itt_notify.h:120</a></div></div>
<div class="ttc" id="a00722_html_aa28625051072472ccd8a2b19405d6fb3"><div class="ttname"><a href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">tbb::spin_rw_mutex_v3::state</a></div><div class="ttdeci">state_t state</div><div class="ttdoc">State of lock. </div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00221">spin_rw_mutex.h:221</a></div></div>
<div class="ttc" id="a00722_html_a467101edd40480cbc14a2d91ff812108"><div class="ttname"><a href="a00722.html#a467101edd40480cbc14a2d91ff812108">tbb::spin_rw_mutex_v3::internal_acquire_writer</a></div><div class="ttdeci">bool __TBB_EXPORTED_METHOD internal_acquire_writer()</div><div class="ttdoc">Internal acquire write lock. </div><div class="ttdef"><b>Definition:</b> <a href="a01069_source.html#l00041">spin_rw_mutex.cpp:41</a></div></div>
<div class="ttc" id="a00722_html_aaeec59dde09fe92be196ecddb480777b"><div class="ttname"><a href="a00722.html#aaeec59dde09fe92be196ecddb480777b">tbb::spin_rw_mutex_v3::WRITER</a></div><div class="ttdeci">static const state_t WRITER</div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00212">spin_rw_mutex.h:212</a></div></div>
<div class="ttc" id="a01098_html_a7b58d28a34a1717e2ddb591f00658b10"><div class="ttname"><a href="a01098.html#a7b58d28a34a1717e2ddb591f00658b10">__TBB_ASSERT</a></div><div class="ttdeci">#define __TBB_ASSERT(predicate, comment)</div><div class="ttdoc">No-op version of __TBB_ASSERT. </div><div class="ttdef"><b>Definition:</b> <a href="a01098_source.html#l00169">tbb_stddef.h:169</a></div></div>
<div class="ttc" id="a00722_html_ab11616f92185e70c8c1b2786d0a2056c"><div class="ttname"><a href="a00722.html#ab11616f92185e70c8c1b2786d0a2056c">tbb::spin_rw_mutex_v3::internal_release_reader</a></div><div class="ttdeci">void __TBB_EXPORTED_METHOD internal_release_reader()</div><div class="ttdoc">Internal release read lock. </div><div class="ttdef"><b>Definition:</b> <a href="a01069_source.html#l00119">spin_rw_mutex.cpp:119</a></div></div>
<div class="ttc" id="a00722_html_a27adc7d791dfaa4a60638313b9d1c1f4"><div class="ttname"><a href="a00722.html#a27adc7d791dfaa4a60638313b9d1c1f4">tbb::spin_rw_mutex_v3::state_t</a></div><div class="ttdeci">intptr_t state_t</div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00211">spin_rw_mutex.h:211</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="a00722_abe7bd52786921ba0f923444c91232b08_cgraph.svg" width="100%" height="445"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="a51e207646300a4c242bb4aaa4e04e9b8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a> tbb::spin_rw_mutex_v3::lock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Acquire writer lock. </p>

<p>Definition at line <a class="el" href="a01070_source.html#l00184">184</a> of file <a class="el" href="a01070_source.html">spin_rw_mutex.h</a>.</p>

<p>Referenced by <a class="el" href="a00489.html#a2147b4639190ad49551f617784dc012b">tbb::internal::market::adjust_demand()</a>, and <a class="el" href="a00489.html#a798355f9d896223c97ac403c879987be">tbb::internal::market::try_destroy_arena()</a>.</p>
<div class="fragment"><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;{<a class="code" href="a00722.html#a467101edd40480cbc14a2d91ff812108">internal_acquire_writer</a>();}</div><div class="ttc" id="a00722_html_a467101edd40480cbc14a2d91ff812108"><div class="ttname"><a href="a00722.html#a467101edd40480cbc14a2d91ff812108">tbb::spin_rw_mutex_v3::internal_acquire_writer</a></div><div class="ttdeci">bool __TBB_EXPORTED_METHOD internal_acquire_writer()</div><div class="ttdoc">Internal acquire write lock. </div><div class="ttdef"><b>Definition:</b> <a href="a01069_source.html#l00041">spin_rw_mutex.cpp:41</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="a00722_a51e207646300a4c242bb4aaa4e04e9b8_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa0e3bb644e9021d0f80ee36b03f228e4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a> tbb::spin_rw_mutex_v3::lock_read </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Acquire reader lock. </p>

<p>Definition at line <a class="el" href="a01070_source.html#l00204">204</a> of file <a class="el" href="a01070_source.html">spin_rw_mutex.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;{<a class="code" href="a00722.html#ac400c48db94b1f000a7d3cd06f9e9b7a">internal_acquire_reader</a>();}</div><div class="ttc" id="a00722_html_ac400c48db94b1f000a7d3cd06f9e9b7a"><div class="ttname"><a href="a00722.html#ac400c48db94b1f000a7d3cd06f9e9b7a">tbb::spin_rw_mutex_v3::internal_acquire_reader</a></div><div class="ttdeci">void __TBB_EXPORTED_METHOD internal_acquire_reader()</div><div class="ttdoc">Internal acquire read lock. </div><div class="ttdef"><b>Definition:</b> <a href="a01069_source.html#l00066">spin_rw_mutex.cpp:66</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab6ec20b1ec43a49c8c2908984e35b5e8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool tbb::spin_rw_mutex_v3::try_lock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Try acquiring writer lock (non-blocking) </p>
<p>Return true if lock acquired; false otherwise. </p>

<p>Definition at line <a class="el" href="a01070_source.html#l00188">188</a> of file <a class="el" href="a01070_source.html">spin_rw_mutex.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;{<span class="keywordflow">return</span> <a class="code" href="a00722.html#a4ff4605d198a16900922eea80f5aac28">internal_try_acquire_writer</a>();}</div><div class="ttc" id="a00722_html_a4ff4605d198a16900922eea80f5aac28"><div class="ttname"><a href="a00722.html#a4ff4605d198a16900922eea80f5aac28">tbb::spin_rw_mutex_v3::internal_try_acquire_writer</a></div><div class="ttdeci">bool __TBB_EXPORTED_METHOD internal_try_acquire_writer()</div><div class="ttdoc">Internal try_acquire write lock. </div><div class="ttdef"><b>Definition:</b> <a href="a01069_source.html#l00127">spin_rw_mutex.cpp:127</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac932f65b0b66320688e7957ce9c3e2c1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool tbb::spin_rw_mutex_v3::try_lock_read </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Try acquiring reader lock (non-blocking) </p>
<p>Return true if reader lock acquired; false otherwise. </p>

<p>Definition at line <a class="el" href="a01070_source.html#l00208">208</a> of file <a class="el" href="a01070_source.html">spin_rw_mutex.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;{<span class="keywordflow">return</span> <a class="code" href="a00722.html#a7aaa7f4438fc731ab5fc1dd3ee77dce4">internal_try_acquire_reader</a>();}</div><div class="ttc" id="a00722_html_a7aaa7f4438fc731ab5fc1dd3ee77dce4"><div class="ttname"><a href="a00722.html#a7aaa7f4438fc731ab5fc1dd3ee77dce4">tbb::spin_rw_mutex_v3::internal_try_acquire_reader</a></div><div class="ttdeci">bool __TBB_EXPORTED_METHOD internal_try_acquire_reader()</div><div class="ttdoc">Internal try_acquire read lock. </div><div class="ttdef"><b>Definition:</b> <a href="a01069_source.html#l00140">spin_rw_mutex.cpp:140</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab04321ed2cdf12ac5825c54591028fc0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a> tbb::spin_rw_mutex_v3::unlock </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Release lock. </p>

<p>Definition at line <a class="el" href="a01070_source.html#l00191">191</a> of file <a class="el" href="a01070_source.html">spin_rw_mutex.h</a>.</p>

<p>References <a class="el" href="a01089.html#a5f6b1490b38bfa1bdef7400be89e1aeb">__TBB_AtomicAND()</a>, and <a class="el" href="a01089.html#aa689caf9c3864c691eacec00808ea3a8">__TBB_FetchAndAddWrelease</a>.</p>

<p>Referenced by <a class="el" href="a00489.html#a2147b4639190ad49551f617784dc012b">tbb::internal::market::adjust_demand()</a>, and <a class="el" href="a00489.html#a798355f9d896223c97ac403c879987be">tbb::internal::market::try_destroy_arena()</a>.</p>
<div class="fragment"><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                  {</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="preprocessor">#if TBB_USE_THREADING_TOOLS||TBB_USE_ASSERT</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">state</a>&amp;<a class="code" href="a00722.html#aaeec59dde09fe92be196ecddb480777b">WRITER</a> ) <a class="code" href="a00722.html#adbb7d21e6b8ffbb380ddda0b4a43323d">internal_release_writer</a>();</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <span class="keywordflow">else</span>               <a class="code" href="a00722.html#ab11616f92185e70c8c1b2786d0a2056c">internal_release_reader</a>();</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <span class="keywordflow">if</span>( <a class="code" href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">state</a>&amp;WRITER ) <a class="code" href="a01089.html#a5f6b1490b38bfa1bdef7400be89e1aeb">__TBB_AtomicAND</a>( &amp;<a class="code" href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">state</a>, <a class="code" href="a00722.html#a6cc93cdcf4ad43f6bf8b0f76cde66f9e">READERS</a> );</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        <span class="keywordflow">else</span>               <a class="code" href="a01089.html#aa689caf9c3864c691eacec00808ea3a8">__TBB_FetchAndAddWrelease</a>( &amp;<a class="code" href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">state</a>, -(intptr_t)<a class="code" href="a00722.html#af1386a2fa5979432e4a58b94e68db23f">ONE_READER</a>);</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* TBB_USE_THREADING_TOOLS||TBB_USE_ASSERT */</span><span class="preprocessor"></span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    }</div><div class="ttc" id="a01089_html_aa689caf9c3864c691eacec00808ea3a8"><div class="ttname"><a href="a01089.html#aa689caf9c3864c691eacec00808ea3a8">__TBB_FetchAndAddWrelease</a></div><div class="ttdeci">#define __TBB_FetchAndAddWrelease(P, V)</div><div class="ttdef"><b>Definition:</b> <a href="a01089_source.html#l00313">tbb_machine.h:313</a></div></div>
<div class="ttc" id="a00722_html_adbb7d21e6b8ffbb380ddda0b4a43323d"><div class="ttname"><a href="a00722.html#adbb7d21e6b8ffbb380ddda0b4a43323d">tbb::spin_rw_mutex_v3::internal_release_writer</a></div><div class="ttdeci">void __TBB_EXPORTED_METHOD internal_release_writer()</div><div class="ttdoc">Out of line code for releasing a write lock. </div><div class="ttdef"><b>Definition:</b> <a href="a01069_source.html#l00059">spin_rw_mutex.cpp:59</a></div></div>
<div class="ttc" id="a00722_html_a6cc93cdcf4ad43f6bf8b0f76cde66f9e"><div class="ttname"><a href="a00722.html#a6cc93cdcf4ad43f6bf8b0f76cde66f9e">tbb::spin_rw_mutex_v3::READERS</a></div><div class="ttdeci">static const state_t READERS</div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00214">spin_rw_mutex.h:214</a></div></div>
<div class="ttc" id="a00722_html_af1386a2fa5979432e4a58b94e68db23f"><div class="ttname"><a href="a00722.html#af1386a2fa5979432e4a58b94e68db23f">tbb::spin_rw_mutex_v3::ONE_READER</a></div><div class="ttdeci">static const state_t ONE_READER</div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00215">spin_rw_mutex.h:215</a></div></div>
<div class="ttc" id="a00722_html_aa28625051072472ccd8a2b19405d6fb3"><div class="ttname"><a href="a00722.html#aa28625051072472ccd8a2b19405d6fb3">tbb::spin_rw_mutex_v3::state</a></div><div class="ttdeci">state_t state</div><div class="ttdoc">State of lock. </div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00221">spin_rw_mutex.h:221</a></div></div>
<div class="ttc" id="a00722_html_aaeec59dde09fe92be196ecddb480777b"><div class="ttname"><a href="a00722.html#aaeec59dde09fe92be196ecddb480777b">tbb::spin_rw_mutex_v3::WRITER</a></div><div class="ttdeci">static const state_t WRITER</div><div class="ttdef"><b>Definition:</b> <a href="a01070_source.html#l00212">spin_rw_mutex.h:212</a></div></div>
<div class="ttc" id="a00722_html_ab11616f92185e70c8c1b2786d0a2056c"><div class="ttname"><a href="a00722.html#ab11616f92185e70c8c1b2786d0a2056c">tbb::spin_rw_mutex_v3::internal_release_reader</a></div><div class="ttdeci">void __TBB_EXPORTED_METHOD internal_release_reader()</div><div class="ttdoc">Internal release read lock. </div><div class="ttdef"><b>Definition:</b> <a href="a01069_source.html#l00119">spin_rw_mutex.cpp:119</a></div></div>
<div class="ttc" id="a01089_html_a5f6b1490b38bfa1bdef7400be89e1aeb"><div class="ttname"><a href="a01089.html#a5f6b1490b38bfa1bdef7400be89e1aeb">__TBB_AtomicAND</a></div><div class="ttdeci">void __TBB_AtomicAND(volatile void *operand, uintptr_t addend)</div><div class="ttdef"><b>Definition:</b> <a href="a01089_source.html#l00892">tbb_machine.h:892</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="a00722_ab04321ed2cdf12ac5825c54591028fc0_cgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="a00722_ab04321ed2cdf12ac5825c54591028fc0_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a6a811c72bd7e5ad6a3a9161ee05e298c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="a00722.html#a27adc7d791dfaa4a60638313b9d1c1f4">state_t</a> tbb::spin_rw_mutex_v3::BUSY = <a class="el" href="a00722.html#aaeec59dde09fe92be196ecddb480777b">WRITER</a> | <a class="el" href="a00722.html#a6cc93cdcf4ad43f6bf8b0f76cde66f9e">READERS</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a01070_source.html#l00216">216</a> of file <a class="el" href="a01070_source.html">spin_rw_mutex.h</a>.</p>

<p>Referenced by <a class="el" href="a00722.html#a467101edd40480cbc14a2d91ff812108">internal_acquire_writer()</a>, and <a class="el" href="a00722.html#a4ff4605d198a16900922eea80f5aac28">internal_try_acquire_writer()</a>.</p>

</div>
</div>
<a class="anchor" id="affd403f6e3822589e985a2c23505fbd1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const bool tbb::spin_rw_mutex_v3::is_fair_mutex = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a01070_source.html#l00179">179</a> of file <a class="el" href="a01070_source.html">spin_rw_mutex.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7f6aa8fe3e9c7c4ee4cdec6d221ffe45"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const bool tbb::spin_rw_mutex_v3::is_recursive_mutex = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a01070_source.html#l00178">178</a> of file <a class="el" href="a01070_source.html">spin_rw_mutex.h</a>.</p>

</div>
</div>
<a class="anchor" id="addc8223faacc1bb2cc8626b609ab2c49"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const bool tbb::spin_rw_mutex_v3::is_rw_mutex = true</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a01070_source.html#l00177">177</a> of file <a class="el" href="a01070_source.html">spin_rw_mutex.h</a>.</p>

</div>
</div>
<a class="anchor" id="af1386a2fa5979432e4a58b94e68db23f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="a00722.html#a27adc7d791dfaa4a60638313b9d1c1f4">state_t</a> tbb::spin_rw_mutex_v3::ONE_READER = 4</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a01070_source.html#l00215">215</a> of file <a class="el" href="a01070_source.html">spin_rw_mutex.h</a>.</p>

<p>Referenced by <a class="el" href="a00722.html#ac400c48db94b1f000a7d3cd06f9e9b7a">internal_acquire_reader()</a>, <a class="el" href="a00722.html#a8cf51efa83b6c563ba3472634e37bac8">internal_downgrade()</a>, <a class="el" href="a00722.html#ab11616f92185e70c8c1b2786d0a2056c">internal_release_reader()</a>, <a class="el" href="a00722.html#a7aaa7f4438fc731ab5fc1dd3ee77dce4">internal_try_acquire_reader()</a>, and <a class="el" href="a00722.html#abe7bd52786921ba0f923444c91232b08">internal_upgrade()</a>.</p>

</div>
</div>
<a class="anchor" id="a6cc93cdcf4ad43f6bf8b0f76cde66f9e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="a00722.html#a27adc7d791dfaa4a60638313b9d1c1f4">state_t</a> tbb::spin_rw_mutex_v3::READERS = ~(<a class="el" href="a00722.html#aaeec59dde09fe92be196ecddb480777b">WRITER</a> | <a class="el" href="a00722.html#a5b321914828e5e21baf24d58f32c66d5">WRITER_PENDING</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a01070_source.html#l00214">214</a> of file <a class="el" href="a01070_source.html">spin_rw_mutex.h</a>.</p>

<p>Referenced by <a class="el" href="a00722.html#ac400c48db94b1f000a7d3cd06f9e9b7a">internal_acquire_reader()</a>, <a class="el" href="a00722.html#a8cf51efa83b6c563ba3472634e37bac8">internal_downgrade()</a>, <a class="el" href="a00722.html#ab11616f92185e70c8c1b2786d0a2056c">internal_release_reader()</a>, <a class="el" href="a00722.html#adbb7d21e6b8ffbb380ddda0b4a43323d">internal_release_writer()</a>, and <a class="el" href="a00722.html#abe7bd52786921ba0f923444c91232b08">internal_upgrade()</a>.</p>

</div>
</div>
<a class="anchor" id="aa28625051072472ccd8a2b19405d6fb3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00722.html#a27adc7d791dfaa4a60638313b9d1c1f4">state_t</a> tbb::spin_rw_mutex_v3::state</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>State of lock. </p>
<p>Bit 0 = writer is holding lock Bit 1 = request by a writer to acquire lock (hint to readers to wait) Bit 2..N = number of readers holding lock </p>

<p>Definition at line <a class="el" href="a01070_source.html#l00221">221</a> of file <a class="el" href="a01070_source.html">spin_rw_mutex.h</a>.</p>

<p>Referenced by <a class="el" href="a00722.html#ac400c48db94b1f000a7d3cd06f9e9b7a">internal_acquire_reader()</a>, <a class="el" href="a00722.html#a467101edd40480cbc14a2d91ff812108">internal_acquire_writer()</a>, <a class="el" href="a00722.html#a8cf51efa83b6c563ba3472634e37bac8">internal_downgrade()</a>, <a class="el" href="a00722.html#ab11616f92185e70c8c1b2786d0a2056c">internal_release_reader()</a>, <a class="el" href="a00722.html#adbb7d21e6b8ffbb380ddda0b4a43323d">internal_release_writer()</a>, <a class="el" href="a00722.html#a7aaa7f4438fc731ab5fc1dd3ee77dce4">internal_try_acquire_reader()</a>, <a class="el" href="a00722.html#a4ff4605d198a16900922eea80f5aac28">internal_try_acquire_writer()</a>, <a class="el" href="a00722.html#abe7bd52786921ba0f923444c91232b08">internal_upgrade()</a>, and <a class="el" href="a00690.html#a99e279a995a51abfb87b865e886949f8">tbb::spin_rw_mutex_v3::scoped_lock::release()</a>.</p>

</div>
</div>
<a class="anchor" id="aaeec59dde09fe92be196ecddb480777b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="a00722.html#a27adc7d791dfaa4a60638313b9d1c1f4">state_t</a> tbb::spin_rw_mutex_v3::WRITER = 1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a01070_source.html#l00212">212</a> of file <a class="el" href="a01070_source.html">spin_rw_mutex.h</a>.</p>

<p>Referenced by <a class="el" href="a00722.html#ac400c48db94b1f000a7d3cd06f9e9b7a">internal_acquire_reader()</a>, <a class="el" href="a00722.html#a467101edd40480cbc14a2d91ff812108">internal_acquire_writer()</a>, <a class="el" href="a00722.html#a8cf51efa83b6c563ba3472634e37bac8">internal_downgrade()</a>, <a class="el" href="a00722.html#a7aaa7f4438fc731ab5fc1dd3ee77dce4">internal_try_acquire_reader()</a>, <a class="el" href="a00722.html#a4ff4605d198a16900922eea80f5aac28">internal_try_acquire_writer()</a>, and <a class="el" href="a00722.html#abe7bd52786921ba0f923444c91232b08">internal_upgrade()</a>.</p>

</div>
</div>
<a class="anchor" id="a5b321914828e5e21baf24d58f32c66d5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="a00722.html#a27adc7d791dfaa4a60638313b9d1c1f4">state_t</a> tbb::spin_rw_mutex_v3::WRITER_PENDING = 2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a01070_source.html#l00213">213</a> of file <a class="el" href="a01070_source.html">spin_rw_mutex.h</a>.</p>

<p>Referenced by <a class="el" href="a00722.html#ac400c48db94b1f000a7d3cd06f9e9b7a">internal_acquire_reader()</a>, <a class="el" href="a00722.html#a467101edd40480cbc14a2d91ff812108">internal_acquire_writer()</a>, <a class="el" href="a00722.html#a7aaa7f4438fc731ab5fc1dd3ee77dce4">internal_try_acquire_reader()</a>, and <a class="el" href="a00722.html#abe7bd52786921ba0f923444c91232b08">internal_upgrade()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="a01070_source.html">spin_rw_mutex.h</a></li>
<li><a class="el" href="a01069_source.html">spin_rw_mutex.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p></p>
Copyright &copy; 2005-2019 Intel Corporation.  All Rights Reserved.
<p></p>
Intel, Pentium, Intel Xeon, Itanium, Intel XScale and VTune are
registered trademarks or trademarks of Intel Corporation or its
subsidiaries in the United States and other countries.
<p></p>
* Other names and brands may be claimed as the property of others.
