<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Intel(R) Threading Building Blocks Doxygen Documentation: tbb_statistics.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Intel(R) Threading Building Blocks Doxygen Documentation
   &#160;<span id="projectnumber">version 4.2.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a01097.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">tbb_statistics.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="a01098_source.html">tbb/tbb_stddef.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for tbb_statistics.h:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="a01416.svg" width="323" height="262"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="a01417.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</div>
<p><a href="a01097_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a7f07a87ee664e7909de31b1251ccfa89"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01097.html#a7f07a87ee664e7909de31b1251ccfa89">__TBB_STATISTICS</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a7f07a87ee664e7909de31b1251ccfa89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08f1e46bb511c63da3ce07aa9c897bc4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a01097.html#a08f1e46bb511c63da3ce07aa9c897bc4">GATHER_STATISTIC</a>(x)&#160;&#160;&#160;((<a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a>)0)</td></tr>
<tr class="separator:a08f1e46bb511c63da3ce07aa9c897bc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a7f07a87ee664e7909de31b1251ccfa89"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define __TBB_STATISTICS&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This file defines parameters of the internal statistics collected by the TBB library (currently by the task scheduler only).</p>
<p>Statistics is accumulated separately in each thread and is dumped when the scheduler instance associated with the given thread is destroyed. For apps with multiple master threads or with the same master repeatedly initializing and then deinitializing task scheduler this results in TBB workers statistics getting inseparably mixed.</p>
<p>Therefore statistics is accumulated in arena slots, and should be dumped when arena is destroyed. This separates statistics collected for each scheduler activity region in each master thread.</p>
<p>With the current RML implementation (TBB 2.2, 3.0) to avoid complete loss of statistics data during app shutdown (because of lazy workers deinitialization logic) set __TBB_STATISTICS_EARLY_DUMP macro to write the statistics at the moment a master thread deinitializes its scheduler. This may happen a little earlier than the moment of arena destruction resulting in the following undesired (though usually tolerable) effects:</p><ul>
<li>a few events related to unsuccessful stealing or thread pool activity may be lost,</li>
<li>statistics may be substantially incomplete in case of FIFO tasks used in the FAF mode.</li>
</ul>
<p>Macro __TBB_STATISTICS_STDOUT and global variable __TBB_ActiveStatisticsGroups defined below can be used to configure the statistics output.</p>
<p>To add new counter: 1) Insert it into the appropriate group range in statistics_counters; 2) Insert the corresponding field title into StatFieldTitles (preserving relative order of the fields).</p>
<p>To add new counters group: 1) Insert new group bit flag into statistics_groups; 2) Insert the new group title into StatGroupTitles (preserving relative order of the groups). 3) Add counter belonging to the new group as described above </p>

<p>Definition at line <a class="el" href="a01097_source.html#l00066">66</a> of file <a class="el" href="a01097_source.html">tbb_statistics.h</a>.</p>

</div>
</div>
<a class="anchor" id="a08f1e46bb511c63da3ce07aa9c897bc4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define GATHER_STATISTIC</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td>&#160;&#160;&#160;((<a class="el" href="a01016.html#a3935b8702cc0ea3c8cc263b5095d0dc0">void</a>)0)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="a01097_source.html#l00236">236</a> of file <a class="el" href="a01097_source.html">tbb_statistics.h</a>.</p>

<p>Referenced by <a class="el" href="a00489.html#a2147b4639190ad49551f617784dc012b">tbb::internal::market::adjust_demand()</a>, <a class="el" href="a00302.html#aa0d316e9f3063c6b57fa21e0716d4d77">tbb::internal::generic_scheduler::allocate_task()</a>, <a class="el" href="a00489.html#ae5f4653c1ea43b7011f9099348849467">tbb::internal::market::create_one_job()</a>, <a class="el" href="a00302.html#a21fedf3ec39056fdd7b7718f2421e229">tbb::internal::generic_scheduler::enqueue()</a>, <a class="el" href="a00059.html#a2730864663493597ac0fed43356e953b">tbb::internal::arena::free_arena()</a>, <a class="el" href="a00302.html#a12dd37171af77214add72a973e6b71ba">tbb::internal::generic_scheduler::free_task()</a>, <a class="el" href="a00302.html#aad832dcce47939c2fd150a0e63a395ec">tbb::internal::generic_scheduler::get_task()</a>, <a class="el" href="a00489.html#ab5309747cd8e8e7e094b4417a8a28b76">tbb::internal::market::is_arena_in_list()</a>, <a class="el" href="a00194.html#a5e2c5878baf724264214e91070844487">tbb::internal::custom_scheduler&lt; SchedulerTraits &gt;::local_wait_for_all()</a>, <a class="el" href="a00302.html#a28bc27fa6c9a0cea424ced83b9f020ac">tbb::internal::generic_scheduler::lock_task_pool()</a>, <a class="el" href="a00059.html#af5ce7404b60b78dee1ce689cfe903734">tbb::internal::arena::on_thread_leaving()</a>, <a class="el" href="a00489.html#a574c6275a73f185d391151478e4a7634">tbb::internal::market::process()</a>, <a class="el" href="a00194.html#a3825613e3650d5a9110b9b9f5ee4a3e9">tbb::internal::custom_scheduler&lt; SchedulerTraits &gt;::receive_or_steal_task()</a>, <a class="el" href="a00302.html#abb8f3f3967170ca9398e55b90220c3cb">tbb::internal::generic_scheduler::steal_task()</a>, and <a class="el" href="a00302.html#a15b506cb1b1da8e37255fc2fcdf250f0">tbb::internal::generic_scheduler::steal_task_from()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<hr>
<p></p>
Copyright &copy; 2005-2019 Intel Corporation.  All Rights Reserved.
<p></p>
Intel, Pentium, Intel Xeon, Itanium, Intel XScale and VTune are
registered trademarks or trademarks of Intel Corporation or its
subsidiaries in the United States and other countries.
<p></p>
* Other names and brands may be claimed as the property of others.
